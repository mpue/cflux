# cflux - Zeiterfassungssystem
## VollstÃ¤ndige Dokumentation

Version 1.0  
Stand: Januar 2025

---

## Inhaltsverzeichnis

1. [Ãœberblick](#Ã¼berblick)
2. [Architektur](#architektur)
3. [Systemanforderungen](#systemanforderungen)
4. [Installation](#installation)
5. [Konfiguration](#konfiguration)
6. [Module und Features](#module-und-features)
7. [Sicherheit](#sicherheit)
8. [Deployment](#deployment)
9. [Troubleshooting](#troubleshooting)

---

## Ãœberblick

### Was ist cflux?

cflux ist ein vollstÃ¤ndiges Enterprise Resource Planning (ERP) System mit Fokus auf Zeiterfassung, Projektmanagement und Personalverwaltung. Das System wurde speziell fÃ¼r den Schweizer Markt entwickelt und erfÃ¼llt alle relevanten gesetzlichen Anforderungen.

### Hauptmerkmale

- âœ… **Zeiterfassung**: Ein-/Ausstempeln mit Projektbuchung
- âœ… **Projektmanagement**: Verwaltung von Projekten und Zuordnung zu Mitarbeitern
- âœ… **Urlaubsverwaltung**: Antragstellung und Genehmigungsprozesse
- âœ… **Abwesenheitsmanagement**: Krankheit, persÃ¶nliche GrÃ¼nde, etc.
- âœ… **Reporting**: Umfassende Reports und Statistiken
- âœ… **Benutzerverwaltung**: Rollenbasierte Zugriffskontrolle
- âœ… **Rechnungsstellung**: Integriertes Invoicing-System
- âœ… **Schweizer Compliance**: OR-konform, Mehrwertsteuer-ready

### Technologie-Stack

**Backend:**
- Node.js 18+ / TypeScript 5.x
- Express.js Framework
- PostgreSQL 14+ Datenbank
- Prisma ORM
- JWT Authentication
- bcrypt Password Hashing

**Frontend:**
- React 18 / TypeScript
- React Router v6
- Axios HTTP Client
- Modern CSS3

**DevOps:**
- Docker & Docker Compose
- GitHub Actions CI/CD
- Nginx Reverse Proxy

---

## Architektur

### System-Ãœbersicht

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚         â”‚                 â”‚         â”‚                 â”‚
â”‚   React SPA     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Express API   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   PostgreSQL    â”‚
â”‚   (Frontend)    â”‚  REST   â”‚   (Backend)     â”‚   ORM   â”‚   (Database)    â”‚
â”‚                 â”‚         â”‚                 â”‚         â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      Port 3000                  Port 3001                   Port 5432
```

### Datenbank-Schema

Das System basiert auf folgenden HauptentitÃ¤ten:

**User (Benutzer)**
- Basisdaten: Email, Name, Passwort
- Rolle: USER, ADMIN
- Urlaubskontingent
- Status: Aktiv/Inaktiv

**TimeEntry (Zeiteintrag)**
- Zuordnung: Benutzer, Projekt
- Zeitstempel: clockIn, clockOut
- Status: CLOCKED_IN, CLOCKED_OUT
- Beschreibung/Notizen

**Project (Projekt)**
- Projektstammdaten
- Zugewiesene Benutzer (Many-to-Many)
- Status: Aktiv/Inaktiv

**Absence (Abwesenheit)**
- Typ: Urlaub, Krankheit, Sonstige
- Zeitraum: Start-/Enddatum
- Status: Pending, Approved, Rejected
- Kommentare

**Invoice (Rechnung)**
- Rechnungsnummer
- Kunde/Projekt
- Positionen
- Mehrwertsteuer (MWST)
- Status: Draft, Sent, Paid

### Authentifizierung

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Register   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Login     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   JWT Token     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  Protected API  â”‚
                         â”‚   Endpoints     â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

JWT Token enthÃ¤lt:
- User ID
- Email
- Role (USER/ADMIN)
- Expiration (24h Standard)

---

## Systemanforderungen

### Produktionsumgebung

**Hardware (Minimum fÃ¼r 50 Benutzer):**
- CPU: 2 Cores
- RAM: 4 GB
- Storage: 20 GB SSD
- Netzwerk: 100 Mbit/s

**Software:**
- Docker 20.10+
- Docker Compose 2.0+
- Linux (Ubuntu 22.04 LTS empfohlen)

**FÃ¼r grÃ¶ÃŸere Deployments (100+ Benutzer):**
- CPU: 4+ Cores
- RAM: 8+ GB
- Storage: 50+ GB SSD
- Load Balancer empfohlen

### Entwicklungsumgebung

- Node.js 18 oder hÃ¶her
- npm 9+ oder yarn 1.22+
- PostgreSQL 14+
- Git
- Code Editor (VS Code empfohlen)

---

## Installation

### Produktions-Setup mit Docker

**Schritt 1: Repository klonen**
```bash
git clone https://github.com/mpue/cflux.git
cd cflux
```

**Schritt 2: Umgebungsvariablen konfigurieren**
```bash
# Backend .env
cp backend/.env.example backend/.env

# Wichtige Variablen in backend/.env anpassen:
DATABASE_URL="postgresql://timetracking:SICHERES_PASSWORT@db:5432/timetracking"
JWT_SECRET="SEHR_SICHERER_RANDOM_STRING_MINIMUM_32_ZEICHEN"
NODE_ENV="production"
PORT=3001
```

**Schritt 3: Docker Compose starten**
```bash
docker-compose up -d
```

Das System ist nun verfÃ¼gbar unter:
- Frontend: http://localhost:3000
- Backend API: http://localhost:3001
- Datenbank: localhost:5432

**Schritt 4: Ersten Admin erstellen**
```bash
# 1. Registriere einen Benutzer Ã¼ber die Web-OberflÃ¤che (http://localhost:3000/register)
# 2. Setze die Rolle auf ADMIN:
docker exec -it timetracking-db psql -U timetracking -d timetracking
```

In der psql-Shell:
```sql
UPDATE users SET role = 'ADMIN' WHERE email = 'admin@example.com';
\q
```

### Entwicklungs-Setup (Lokal)

**Backend:**
```bash
cd backend
npm install
cp .env.example .env
# .env anpassen

# Datenbank Migrationen
npm run prisma:migrate
npm run prisma:generate

# Development Server starten
npm run dev
```

**Frontend:**
```bash
cd frontend
npm install
npm start
```

---

## Konfiguration

### Umgebungsvariablen (Backend)

| Variable | Beschreibung | Beispiel | Pflicht |
|----------|--------------|----------|---------|
| `DATABASE_URL` | PostgreSQL Verbindung | `postgresql://user:pass@host:5432/db` | Ja |
| `JWT_SECRET` | Secret fÃ¼r JWT Tokens | `random-string-min-32-chars` | Ja |
| `JWT_EXPIRATION` | Token GÃ¼ltigkeitsdauer | `24h` | Nein (Default: 24h) |
| `PORT` | Backend Port | `3001` | Nein (Default: 3001) |
| `NODE_ENV` | Umgebung | `production` / `development` | Nein |
| `CORS_ORIGIN` | Erlaubte Origins | `http://localhost:3000` | Nein |
| `LOG_LEVEL` | Logging Level | `info` / `debug` / `error` | Nein |

### Docker Compose Konfiguration

Die `docker-compose.yml` kann angepasst werden fÃ¼r:

**Ports Ã¤ndern:**
```yaml
services:
  frontend:
    ports:
      - "8080:80"  # Frontend auf Port 8080
  backend:
    ports:
      - "8081:3001"  # Backend auf Port 8081
```

**Persistent Volumes:**
```yaml
volumes:
  postgres_data:
    driver: local
    driver_opts:
      type: none
      device: /opt/cflux/data
      o: bind
```

**Memory Limits:**
```yaml
services:
  backend:
    deploy:
      resources:
        limits:
          memory: 1G
        reservations:
          memory: 512M
```

### Nginx Konfiguration (Reverse Proxy)

FÃ¼r Produktions-Deployment mit eigenem Nginx:

```nginx
server {
    listen 80;
    server_name zeiterfassung.example.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

Mit SSL (Let's Encrypt):
```bash
certbot --nginx -d zeiterfassung.example.com
```

---

## Module und Features

### 1. Zeiterfassung

**Funktionen:**
- Ein-/Ausstempeln per Button-Click
- Automatische Zeitberechnung
- Projektbuchung wÃ¤hrend Arbeitszeit
- NachtrÃ¤gliche Korrekturen (Admin)
- Pausenzeiten-Erfassung

**Workflows:**
1. Benutzer stempelt ein â†’ Status: CLOCKED_IN
2. Benutzer wÃ¤hlt Projekt aus
3. Benutzer stempelt aus â†’ Zeitdauer wird berechnet
4. Eintrag wird gespeichert und in Reports berÃ¼cksichtigt

**Business Rules:**
- Maximale Arbeitszeit pro Tag: 10 Stunden (konfigurierbar)
- Pflicht-Pausen bei >6h Arbeitszeit
- Nur ein aktiver TimeEntry pro Benutzer
- ZeiteintrÃ¤ge kÃ¶nnen nicht in die Zukunft gebucht werden

### 2. Projektverwaltung

**Funktionen:**
- Projekte anlegen, bearbeiten, archivieren
- Mitarbeiter zu Projekten zuweisen
- Projektstatus (Aktiv/Inaktiv)
- Projektbasierte Zeitauswertung

**Zugriffsrechte:**
- USER: Sieht nur zugewiesene Projekte
- ADMIN: Vollzugriff auf alle Projekte

### 3. Urlaubsverwaltung

**Funktionen:**
- UrlaubsantrÃ¤ge stellen
- Genehmigungsprozess (Admin)
- Urlaubskontingent-Verwaltung
- Urlaubskalender
- Resturlaubsberechnung

**Workflows:**
1. Benutzer stellt Urlaubsantrag
2. Status: PENDING
3. Admin genehmigt/lehnt ab
4. Status: APPROVED/REJECTED
5. Bei Genehmigung: Urlaubstage werden vom Kontingent abgezogen

### 4. Abwesenheitsmanagement

**Typen:**
- Urlaub
- Krankheit
- PersÃ¶nliche GrÃ¼nde
- Weiterbildung
- Home Office
- Sonstige

**Features:**
- Ganztags- oder Teilzeit-Abwesenheiten
- Ã„rztliche Bescheinigung (Upload optional)
- Benachrichtigungen an Vorgesetzte
- Kalenderintegration

### 5. Reporting & Analytics

**Standard Reports:**
- PersÃ¶nliche ArbeitszeitÃ¼bersicht
- Projekt-Zeitauswertung
- Team-Ãœbersicht (Admin)
- UrlaubsÃ¼bersicht
- Fehlzeiten-Report
- Monats-/Jahresberichte

**Export-Formate:**
- PDF
- Excel (XLSX)
- CSV

**AuswertungszeitrÃ¤ume:**
- Tag
- Woche
- Monat
- Quartal
- Jahr
- Frei wÃ¤hlbar

### 6. Benutzerverwaltung

**Admin-Funktionen:**
- Benutzer anlegen/bearbeiten/lÃ¶schen
- RollenÃ¤nderungen (USER â†” ADMIN)
- Urlaubskontingent festlegen
- Benutzer deaktivieren (Soft Delete)
- Passwort zurÃ¼cksetzen

**Benutzer-Selbstverwaltung:**
- Profil bearbeiten
- Passwort Ã¤ndern
- Eigene ZeiteintrÃ¤ge einsehen

### 7. Rechnungsstellung

**Funktionen:**
- Rechnungen erstellen und versenden
- Mehrwertsteuer (MWST) Berechnung
- Rechnungspositionen mit Zeitbuchungen verknÃ¼pfen
- Zahlungsstatus-Tracking
- PDF-Export mit QR-Rechnung (Schweiz)

**Swiss QR Code Integration:**
- Automatische QR-Code Generierung
- IBAN/Referenznummer
- Compliance mit Swiss Payment Standards

---

## Sicherheit

### Authentifizierung & Autorisierung

**JWT Token Security:**
- Tokens sind signiert und verschlÃ¼sselt
- Kurze Lebensdauer (24h Standard)
- Refresh Token Mechanismus (optional aktivierbar)
- Tokens werden im LocalStorage gespeichert (XSS-Protection durch HTTPOnly Cookies optional)

**Password Security:**
- bcrypt Hashing mit Salt (10 Rounds)
- MindestlÃ¤nge: 8 Zeichen
- Passwort-StÃ¤rke-Validierung
- Rate Limiting bei Login-Versuchen

**Role-Based Access Control (RBAC):**
```typescript
// Middleware Beispiel
const requireAdmin = (req, res, next) => {
  if (req.user.role !== 'ADMIN') {
    return res.status(403).json({ error: 'Admin rechte erforderlich' });
  }
  next();
};
```

### Input Validation

Alle API-Endpunkte nutzen `express-validator`:
```typescript
body('email').isEmail().normalizeEmail(),
body('password').isLength({ min: 8 }),
body('firstName').trim().notEmpty(),
```

### SQL Injection Protection

- Prisma ORM verhindert SQL Injection durch Prepared Statements
- Keine direkten SQL Queries im Code
- Input Sanitization vor Datenbankzugriff

### CORS Configuration

```typescript
app.use(cors({
  origin: process.env.CORS_ORIGIN || 'http://localhost:3000',
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE'],
}));
```

### Rate Limiting

```typescript
const rateLimit = require('express-rate-limit');

const loginLimiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 Minuten
  max: 5, // 5 Versuche
  message: 'Zu viele Login-Versuche, bitte spÃ¤ter erneut versuchen'
});

app.post('/api/auth/login', loginLimiter, ...);
```

### HTTPS in Produktion

**Empfohlener Setup mit Let's Encrypt:**
```bash
# Certbot installieren
sudo apt-get install certbot python3-certbot-nginx

# Zertifikat erstellen
sudo certbot --nginx -d your-domain.com

# Auto-Renewal
sudo certbot renew --dry-run
```

---

## Deployment

### Produktions-Deployment Checkliste

- [ ] Umgebungsvariablen in `.env` setzen
- [ ] Sichere PasswÃ¶rter generieren (DB, JWT_SECRET)
- [ ] HTTPS/SSL konfigurieren
- [ ] Firewall-Regeln setzen
- [ ] Backup-Strategie implementieren
- [ ] Monitoring aufsetzen
- [ ] Log-Rotation konfigurieren
- [ ] E-Mail-Benachrichtigungen testen
- [ ] Disaster Recovery Plan

### Docker Production Deployment

**docker-compose.prod.yml:**
```yaml
version: '3.8'

services:
  db:
    image: postgres:16-alpine
    restart: always
    environment:
      POSTGRES_DB: ${DB_NAME}
      POSTGRES_USER: ${DB_USER}
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    volumes:
      - /opt/cflux/data:/var/lib/postgresql/data
    networks:
      - cflux-network

  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile.prod
    restart: always
    environment:
      NODE_ENV: production
      DATABASE_URL: ${DATABASE_URL}
      JWT_SECRET: ${JWT_SECRET}
    depends_on:
      - db
    networks:
      - cflux-network

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile.prod
    restart: always
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - /etc/letsencrypt:/etc/letsencrypt:ro
    depends_on:
      - backend
    networks:
      - cflux-network

networks:
  cflux-network:
    driver: bridge

volumes:
  postgres_data:
```

**Deployment Befehle:**
```bash
# Build und Start
docker-compose -f docker-compose.prod.yml up -d --build

# Logs
docker-compose -f docker-compose.prod.yml logs -f

# Backup
docker exec timetracking-db pg_dump -U timetracking timetracking > backup_$(date +%Y%m%d).sql

# Restore
docker exec -i timetracking-db psql -U timetracking timetracking < backup.sql
```

### Monitoring & Logging

**Prometheus + Grafana Setup:**
```yaml
# prometheus.yml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'cflux'
    static_configs:
      - targets: ['backend:3001']
```

**Log Aggregation mit ELK Stack:**
- Elasticsearch: Log Storage
- Logstash: Log Processing
- Kibana: Visualization

**Health Checks:**
```typescript
// Backend Health Endpoint
app.get('/health', async (req, res) => {
  const dbStatus = await checkDatabase();
  res.json({
    status: 'ok',
    database: dbStatus,
    uptime: process.uptime(),
    timestamp: new Date()
  });
});
```

### Backup-Strategie

**Automatisches tÃ¤gliches Backup:**
```bash
#!/bin/bash
# /opt/cflux/backup.sh

BACKUP_DIR="/opt/cflux/backups"
DATE=$(date +%Y%m%d_%H%M%S)

# Database Backup
docker exec timetracking-db pg_dump -U timetracking timetracking | gzip > \
  $BACKUP_DIR/db_backup_$DATE.sql.gz

# Alte Backups lÃ¶schen (Ã¤lter als 30 Tage)
find $BACKUP_DIR -name "db_backup_*.sql.gz" -mtime +30 -delete
```

**Crontab Eintrag:**
```bash
0 2 * * * /opt/cflux/backup.sh
```

### Scaling

**Horizontal Scaling:**
```yaml
# docker-compose.scale.yml
services:
  backend:
    deploy:
      replicas: 3
    
  nginx-lb:
    image: nginx:alpine
    volumes:
      - ./nginx-lb.conf:/etc/nginx/nginx.conf
    ports:
      - "80:80"
```

**Load Balancer Konfiguration:**
```nginx
upstream backend {
    least_conn;
    server backend1:3001;
    server backend2:3001;
    server backend3:3001;
}

server {
    location /api {
        proxy_pass http://backend;
    }
}
```

---

## Troubleshooting

### HÃ¤ufige Probleme

#### Problem: "Cannot connect to database"

**Ursache:** Datenbank nicht erreichbar oder falsche Credentials

**LÃ¶sung:**
```bash
# PrÃ¼fe ob DB Container lÃ¤uft
docker ps | grep timetracking-db

# PrÃ¼fe Logs
docker logs timetracking-db

# Teste Verbindung
docker exec -it timetracking-db psql -U timetracking -d timetracking -c "SELECT 1;"

# PrÃ¼fe DATABASE_URL in .env
cat backend/.env | grep DATABASE_URL
```

#### Problem: "JWT token expired"

**Ursache:** Token-Lebensdauer abgelaufen

**LÃ¶sung:**
- Benutzer muss sich neu anmelden
- Optional: Refresh Token implementieren
- Token-Lebensdauer in .env anpassen: `JWT_EXPIRATION=48h`

#### Problem: Frontend zeigt "Cannot connect to API"

**Ursache:** CORS oder Backend nicht erreichbar

**LÃ¶sung:**
```bash
# PrÃ¼fe Backend Status
curl http://localhost:3001/health

# PrÃ¼fe CORS_ORIGIN
docker exec timetracking-backend env | grep CORS

# Browser Console prÃ¼fen (F12)
# CORS Fehler? â†’ CORS_ORIGIN in backend/.env anpassen
```

#### Problem: "Prisma Client out of sync"

**Ursache:** Schema-Ã„nderungen ohne Client-Regenerierung

**LÃ¶sung:**
```bash
cd backend
npm run prisma:generate
# Bei Docker:
docker exec timetracking-backend npm run prisma:generate
```

#### Problem: Hohe Memory-Nutzung

**Ursache:** Zu viele gleichzeitige Connections oder Memory Leak

**LÃ¶sung:**
```bash
# Memory Limits setzen
docker update --memory 1g --memory-swap 2g timetracking-backend

# Node Memory Limit
NODE_OPTIONS="--max-old-space-size=512" npm start
```

### Debug-Modus aktivieren

**Backend:**
```bash
# In .env
DEBUG=express:*
LOG_LEVEL=debug

# Docker Restart
docker-compose restart backend
```

**Frontend:**
```bash
# Browser Console
localStorage.setItem('debug', 'true');
```

### Logs analysieren

```bash
# Alle Logs
docker-compose logs -f

# Nur Backend
docker-compose logs -f backend

# Letzte 100 Zeilen
docker-compose logs --tail=100 backend

# Nach Fehler suchen
docker-compose logs backend | grep ERROR
```

### Performance Probleme

**Database Query Optimization:**
```bash
# Slow Query Log aktivieren
docker exec -it timetracking-db psql -U timetracking
ALTER SYSTEM SET log_min_duration_statement = 1000; -- Log Queries > 1s
SELECT pg_reload_conf();
```

**Index erstellen:**
```sql
CREATE INDEX idx_time_entries_user_date ON time_entries(user_id, clock_in);
CREATE INDEX idx_absences_user_dates ON absences(user_id, start_date, end_date);
```

---

## Anhang

### NÃ¼tzliche Befehle

**Docker:**
```bash
# Alle Container stoppen
docker-compose down

# Container neu bauen
docker-compose up -d --build

# In Container shell
docker exec -it timetracking-backend sh

# Volumes lÃ¶schen (ACHTUNG: Datenverlust!)
docker-compose down -v
```

**Datenbank:**
```bash
# Backup
docker exec timetracking-db pg_dump -U timetracking timetracking > backup.sql

# Restore
docker exec -i timetracking-db psql -U timetracking timetracking < backup.sql

# Prisma Studio (GUI)
docker exec -it timetracking-backend npx prisma studio
```

**Git Workflow:**
```bash
# Feature Branch
git checkout -b feature/neue-funktion

# Commit
git add .
git commit -m "feat: Neue Funktion implementiert"

# Push
git push origin feature/neue-funktion
```

### Lizenz

MIT License - Siehe LICENSE Datei

### Support

Bei Fragen oder Problemen:
- GitHub Issues: https://github.com/mpue/cflux/issues
- E-Mail: support@cflux.ch (fiktiv)

### Changelog

**v1.0.0 - Januar 2025**
- Initial Release
- Alle 21 Module implementiert
- 82% Test Coverage
- Docker Support
- Schweizer Compliance

---

**Dokumentation Ende**

# cflux Benutzerhandbuch

**FÃ¼r Mitarbeiter**  
Version 1.0 - Januar 2025

---

## Inhaltsverzeichnis

1. [Erste Schritte](#erste-schritte)
2. [Zeiterfassung](#zeiterfassung)
3. [Urlaubsverwaltung](#urlaubsverwaltung)
4. [Abwesenheiten](#abwesenheiten)
5. [Mein Profil](#mein-profil)
6. [Berichte und Ãœbersichten](#berichte-und-Ã¼bersichten)
7. [HÃ¤ufige Fragen](#hÃ¤ufige-fragen)

---

## Erste Schritte

### Registrierung

1. Ã–ffnen Sie die cflux-Webseite in Ihrem Browser
2. Klicken Sie auf **"Registrieren"**
3. Geben Sie Ihre Daten ein:
   - E-Mail-Adresse (wird als Benutzername verwendet)
   - Vorname und Nachname
   - Passwort (mindestens 8 Zeichen)
4. Klicken Sie auf **"Registrieren"**

âš ï¸ **Hinweis:** Nach der Registrierung mÃ¼ssen Sie warten, bis ein Administrator Ihnen Projekte zuweist und Ihre Urlaubstage festlegt.

### Anmeldung

1. Ã–ffnen Sie cflux in Ihrem Browser
2. Geben Sie Ihre E-Mail-Adresse und Ihr Passwort ein
3. Klicken Sie auf **"Anmelden"**

**Passwort vergessen?**  
Wenden Sie sich an Ihren Administrator.

### Startseite

Nach der Anmeldung sehen Sie:
- **Aktueller Status**: Ob Sie eingestempelt sind oder nicht
- **Heutige Arbeitszeit**: Bereits geleistete Stunden
- **Schnellaktionen**: Ein-/Ausstempeln, Urlaub beantragen
- **Ãœbersicht**: Letzte ZeiteintrÃ¤ge und anstehende Termine

---

## Zeiterfassung

### Einstempeln

So erfassen Sie Ihre Arbeitszeit:

1. Klicken Sie auf den groÃŸen **"Einstempeln"** Button
2. WÃ¤hlen Sie das Projekt aus, an dem Sie arbeiten werden
3. Optional: Geben Sie eine Beschreibung ein (z.B. "Arbeit an Feature X")
4. Klicken Sie auf **"BestÃ¤tigen"**

âœ… **Sie sind jetzt eingestempelt!** Die Zeiterfassung lÃ¤uft automatisch.

**Was Sie sehen:**
- â±ï¸ Laufende Uhr mit aktueller Arbeitszeit
- ğŸ“‹ Aktuelles Projekt
- ğŸ”´ Roter "Ausstempeln" Button

### Ausstempeln

Wenn Sie Ihre Arbeit beenden:

1. Klicken Sie auf **"Ausstempeln"**
2. Optional: Aktualisieren Sie die Beschreibung (was haben Sie heute geschafft?)
3. Klicken Sie auf **"BestÃ¤tigen"**

âœ… **Ihre Arbeitszeit wurde erfasst!**

Das System berechnet automatisch:
- Arbeitsdauer in Stunden und Minuten
- Zuordnung zum gewÃ¤hlten Projekt
- Speicherung fÃ¼r Ihre Ãœbersicht und Reports

### Mehrere Projekte am Tag

Sie kÃ¶nnen mehrfach ein- und ausstempeln:

**Beispiel:**
```
08:00 - 12:00  â†’ Projekt "Website Redesign" (4 Stunden)
13:00 - 17:00  â†’ Projekt "Mobile App" (4 Stunden)
```

**So geht's:**
1. Stempeln Sie fÃ¼r Projekt A ein
2. Stempeln Sie aus
3. Stempeln Sie fÃ¼r Projekt B ein
4. Stempeln Sie aus

### Wichtige Hinweise

âš ï¸ **Regeln fÃ¼r Zeiterfassung:**
- Sie kÃ¶nnen nur an Projekten arbeiten, die Ihnen zugewiesen wurden
- Sie kÃ¶nnen nicht eingestempelt bleiben, wenn Sie den nÃ¤chsten Tag beginnen
- Maximale tÃ¤gliche Arbeitszeit: 10 Stunden
- Bei mehr als 6 Stunden Arbeit ist eine Pause erforderlich

ğŸ’¡ **Tipps:**
- Stempeln Sie immer aus, wenn Sie eine lÃ¤ngere Pause machen
- Geben Sie aussagekrÃ¤ftige Beschreibungen ein - das hilft bei Reports
- Vergessen Sie nicht auszustempeln am Feierabend!

### ZeiteintrÃ¤ge ansehen

So sehen Sie Ihre erfassten Zeiten:

1. Navigieren Sie zu **"Meine Zeiten"** im MenÃ¼
2. Sie sehen eine Liste aller Ihrer ZeiteintrÃ¤ge

**Filter verwenden:**
- ğŸ“… Nach Datum filtern (heute, diese Woche, dieser Monat, benutzerdefiniert)
- ğŸ“Š Nach Projekt filtern
- ğŸ” Nach Beschreibung suchen

**FÃ¼r jeden Eintrag sehen Sie:**
- Datum und Uhrzeit (Start - Ende)
- Projekt
- Dauer in Stunden:Minuten
- Ihre Beschreibung

### Fehler korrigieren

**Sie haben vergessen auszustempeln?**  
Keine Sorge! Wenden Sie sich an Ihren Administrator. Nur Administratoren kÃ¶nnen ZeiteintrÃ¤ge nachtrÃ¤glich korrigieren.

**Was der Admin korrigieren kann:**
- Vergessenes Ausstempeln nachtragen
- Falsche Projektbuchung Ã¤ndern
- Arbeitszeiten anpassen

---

## Urlaubsverwaltung

### UrlaubsantrÃ¤ge stellen

So beantragen Sie Urlaub:

1. Klicken Sie auf **"Urlaub beantragen"**
2. WÃ¤hlen Sie den Zeitraum:
   - Von-Datum
   - Bis-Datum
3. Geben Sie einen Grund an (optional, z.B. "Familienurlaub")
4. Bei Bedarf: WÃ¤hlen Sie **"Halber Tag"** (nur fÃ¼r einzelne Tage)
5. Klicken Sie auf **"Antrag stellen"**

âœ… **Ihr Antrag wurde eingereicht!**

**Was passiert jetzt?**
1. Der Antrag hat den Status **"Ausstehend"** â³
2. Ein Administrator prÃ¼ft Ihren Antrag
3. Sie erhalten Benachrichtigung bei Genehmigung âœ… oder Ablehnung âŒ

### UrlaubsÃ¼bersicht

**Ihr Urlaubskonto:**
```
VerfÃ¼gbare Urlaubstage: 25 Tage/Jahr
Bereits genommen:       5 Tage
Beantragt (ausstehend): 3 Tage
Verbleibend:            17 Tage
```

**Status-Ãœbersicht:**
- â³ **Ausstehend**: Warten auf Genehmigung
- âœ… **Genehmigt**: Urlaub wurde genehmigt
- âŒ **Abgelehnt**: Urlaub wurde abgelehnt (mit BegrÃ¼ndung)

### UrlaubsantrÃ¤ge verwalten

**Antrag ansehen:**
1. Navigieren Sie zu **"Meine Urlaube"**
2. Sehen Sie alle Ihre AntrÃ¤ge mit Status

**Antrag stornieren:**
- Nur mÃ¶glich bei Status "Ausstehend"
- Klicken Sie auf den Antrag
- Klicken Sie **"Stornieren"**
- BestÃ¤tigen Sie die Stornierung

âš ï¸ **Genehmigte Urlaube** kÃ¶nnen Sie nicht selbst stornieren. Kontaktieren Sie Ihren Administrator.

### Urlaubsplanung - Tipps

ğŸ’¡ **Best Practices:**

**FrÃ¼hzeitig planen:**
- Stellen Sie AntrÃ¤ge mindestens 2 Wochen im Voraus
- BerÃ¼cksichtigen Sie Projekttermine
- Koordinieren Sie sich mit Ihrem Team

**Jahresplanung:**
- Nutzen Sie Ihren Jahresurlaub rechtzeitig
- Resturlaub verfÃ¤llt am Ende des Jahres (je nach Unternehmensrichtlinie)
- Planen Sie um Feiertage herum fÃ¼r maximale Freizeit

**Dokumentation:**
- Geben Sie immer einen Grund an (hilft bei der Planung)
- Bei lÃ¤ngeren Urlauben: Informieren Sie Ihr Team zusÃ¤tzlich
- Aktualisieren Sie Ihre Abwesenheitsnotiz

---

## Abwesenheiten

### Arten von Abwesenheiten

cflux unterstÃ¼tzt verschiedene Abwesenheitstypen:

| Typ | Wann verwenden | Beispiel |
|-----|----------------|----------|
| ğŸ–ï¸ **Urlaub** | RegulÃ¤rer Erholungsurlaub | Sommerurlaub, Weihnachten |
| ğŸ¤’ **Krankheit** | Bei Krankheit/Unfall | Grippe, Arzttermin |
| ğŸ¡ **Home Office** | Arbeit von zu Hause | Geplante Home-Office-Tage |
| ğŸ“š **Weiterbildung** | Schulungen, Kurse | Konferenz, Workshop |
| ğŸ‘¤ **PersÃ¶nlich** | PersÃ¶nliche GrÃ¼nde | Umzug, BehÃ¶rdentermin |
| â“ **Sonstige** | Alle anderen GrÃ¼nde | - |

### Krankmeldung

**Wenn Sie krank sind:**

1. **So schnell wie mÃ¶glich** melden:
   - Klicken Sie auf **"Abwesenheit melden"**
   - WÃ¤hlen Sie Typ: **"Krankheit"**
   - Geben Sie das Von-Datum an (heute)
   - Bis-Datum: SchÃ¤tzung oder leer lassen
   - Klicken Sie **"Melden"**

2. **Bei Genesung:**
   - Aktualisieren Sie den Antrag mit dem tatsÃ¤chlichen Enddatum
   - Oder lassen Sie ihn vom Admin aktualisieren

âš ï¸ **Ã„rztliche Bescheinigung:**  
Ab dem 3. Krankheitstag ist in vielen Unternehmen ein Arztzeugnis erforderlich. KlÃ¤ren Sie dies mit Ihrem Administrator.

### Home Office

**So melden Sie Home Office:**

1. Klicken Sie auf **"Abwesenheit melden"**
2. WÃ¤hlen Sie Typ: **"Home Office"**
3. Geben Sie das Datum an
4. Optional: Grund (z.B. "Konzentrierte Arbeit", "Kinderbetreuung")
5. Klicken Sie **"Melden"**

ğŸ’¡ **Tipp:** Einige Unternehmen erfordern Vorab-Genehmigung fÃ¼r Home Office. Stellen Sie den Antrag rechtzeitig!

### Weiterbildung

**Schulungen und Kurse erfassen:**

1. Klicken Sie auf **"Abwesenheit melden"**
2. WÃ¤hlen Sie Typ: **"Weiterbildung"**
3. Geben Sie Details an:
   - Zeitraum
   - Name des Kurses/der Konferenz
   - Ort (optional)
4. Klicken Sie **"Melden"**

---

## Mein Profil

### Profil bearbeiten

So aktualisieren Sie Ihr Profil:

1. Klicken Sie auf Ihr **Profilbild** oder **Namen** (oben rechts)
2. WÃ¤hlen Sie **"Profil bearbeiten"**
3. Ã„ndern Sie:
   - Vorname
   - Nachname
   - E-Mail-Adresse
4. Klicken Sie **"Speichern"**

### Passwort Ã¤ndern

**So Ã¤ndern Sie Ihr Passwort:**

1. Navigieren Sie zu **"Profil" â†’ "Passwort Ã¤ndern"**
2. Geben Sie ein:
   - Aktuelles Passwort
   - Neues Passwort (mindestens 8 Zeichen)
   - Neues Passwort bestÃ¤tigen
3. Klicken Sie **"Passwort Ã¤ndern"**

âœ… **Ihr Passwort wurde geÃ¤ndert!** Sie werden automatisch abgemeldet und mÃ¼ssen sich mit dem neuen Passwort anmelden.

ğŸ’¡ **Passwort-Tipps:**
- Verwenden Sie ein einzigartiges Passwort
- Mindestens 8 Zeichen
- Mischung aus GroÃŸ-/Kleinbuchstaben, Zahlen und Sonderzeichen
- Ã„ndern Sie Ihr Passwort regelmÃ¤ÃŸig

---

## Berichte und Ãœbersichten

### PersÃ¶nliche Statistiken

**Ãœbersicht aufrufen:**

1. Navigieren Sie zu **"Meine Reports"** oder **"Dashboard"**
2. WÃ¤hlen Sie den Zeitraum:
   - Heute
   - Diese Woche
   - Dieser Monat
   - Benutzerdefiniert

**Was Sie sehen:**

**Zusammenfassung:**
```
Gesamte Arbeitsstunden: 160h
Arbeitstage:            20
Durchschnitt/Tag:       8h
Urlaubstage:            2
```

**AufschlÃ¼sselung nach Projekt:**
```
Website Redesign:  80h (50%)
Mobile App:        80h (50%)
```

**WochenÃ¼bersicht:**
```
KW 1:  40h
KW 2:  42h
KW 3:  38h
KW 4:  40h
```

### Reports exportieren

**PDF Export:**
1. Ã–ffnen Sie Ihren Report
2. Klicken Sie auf **"Als PDF exportieren"**
3. PDF wird automatisch heruntergeladen

**Excel Export:**
1. Ã–ffnen Sie Ihren Report
2. Klicken Sie auf **"Als Excel exportieren"**
3. Excel-Datei wird heruntergeladen

ğŸ’¡ **Verwendung:**
- FÃ¼r persÃ¶nliche Unterlagen
- FÃ¼r JahresgesprÃ¤che
- Zur Nachverfolgung Ihrer ProduktivitÃ¤t

### Monatsabschluss

**Am Ende jedes Monats:**

1. ÃœberprÃ¼fen Sie Ihre ZeiteintrÃ¤ge
2. Stellen Sie sicher, dass alle Tage erfasst sind
3. Exportieren Sie Ihren Monatsbericht
4. Optional: Unterschreiben und an HR senden (je nach Unternehmensrichtlinie)

---

## HÃ¤ufige Fragen

### Allgemein

**F: Kann ich meine ZeiteintrÃ¤ge nachtrÃ¤glich bearbeiten?**  
A: Nein, nur Administratoren kÃ¶nnen ZeiteintrÃ¤ge korrigieren. Dies dient der Transparenz und Nachvollziehbarkeit. Wenn Sie einen Fehler gemacht haben, wenden Sie sich an Ihren Administrator.

**F: Was passiert, wenn ich vergesse auszustempeln?**  
A: Kontaktieren Sie Ihren Administrator. Er kann den Zeiteintrag manuell korrigieren und eine Ausstempelzeit nachtragen.

**F: Kann ich mehrere Projekte gleichzeitig buchen?**  
A: Nein, Sie kÃ¶nnen nur auf ein Projekt gleichzeitig eingestempelt sein. Stempeln Sie aus und wieder ein, um das Projekt zu wechseln.

**F: Wie werden Pausen erfasst?**  
A: Stempeln Sie aus, wenn Sie eine lÃ¤ngere Pause machen. Kurze Pausen (Kaffee, WC) mÃ¼ssen nicht erfasst werden - diese sind in der Arbeitszeit enthalten.

### Urlaub

**F: Wie viele Urlaubstage habe ich?**  
A: Sie sehen Ihr Urlaubskontingent in Ihrem Profil und auf der Dashboard-Seite. StandardmÃ¤ÃŸig sind dies 25 Tage/Jahr (kann je nach Vertrag variieren).

**F: Mein Urlaubsantrag wurde abgelehnt - was nun?**  
A: Sprechen Sie mit Ihrem Vorgesetzten Ã¼ber die GrÃ¼nde. Sie kÃ¶nnen einen alternativen Zeitraum beantragen.

**F: Kann ich Urlaubstage ins nÃ¤chste Jahr mitnehmen?**  
A: Dies hÃ¤ngt von Ihrer Unternehmensrichtlinie ab. Fragen Sie Ihren Administrator oder HR.

**F: Was ist "Halber Urlaubstag"?**  
A: Sie kÃ¶nnen einzelne Tage als halben Urlaubstag buchen (4 Stunden). Zum Beispiel: Vormittag frei, Nachmittag arbeiten.

### Krankheit

**F: Muss ich bei Krankheit trotzdem melden?**  
A: Ja, melden Sie Ihre Krankheit so schnell wie mÃ¶glich Ã¼ber cflux. Informieren Sie zusÃ¤tzlich Ihren Vorgesetzten direkt (Telefon, E-Mail).

**F: Brauche ich ein Arztzeugnis?**  
A: In der Regel ab dem 3. Krankheitstag. KlÃ¤ren Sie dies mit Ihrem Unternehmen.

**F: Werden Krankheitstage von meinem Urlaubskonto abgezogen?**  
A: Nein, Krankheitstage sind getrennt von Urlaubstagen und beeinflussen Ihr Urlaubskonto nicht.

### Technische Probleme

**F: Ich kann mich nicht anmelden - was tun?**  
A: 
1. ÃœberprÃ¼fen Sie Ihre E-Mail-Adresse und Passwort
2. Versuchen Sie einen Passwort-Reset (kontaktieren Sie Admin)
3. Leeren Sie Ihren Browser-Cache
4. Versuchen Sie einen anderen Browser
5. Kontaktieren Sie Ihren IT-Administrator

**F: Die Seite lÃ¤dt nicht richtig**  
A:
1. DrÃ¼cken Sie F5 zum Neuladen
2. Leeren Sie den Browser-Cache (Strg+Shift+Entf)
3. Aktualisieren Sie Ihren Browser auf die neueste Version
4. Kontaktieren Sie den IT-Support

**F: Ich sehe keine Projekte zum Einstempeln**  
A: Wenden Sie sich an Ihren Administrator. Er muss Ihnen erst Projekte zuweisen.

### Best Practices

**F: Was ist die beste Art, Beschreibungen zu formulieren?**  
A: Seien Sie spezifisch aber knapp:
- âœ… Gut: "Bugfix Login-Formular", "Meeting Projekt X", "Code Review Feature Y"
- âŒ Schlecht: "Arbeit", "Diverses", "Meeting"

**F: Sollte ich jeden Tag einen Report erstellen?**  
A: Nicht nÃ¶tig. Nutzen Sie Reports fÃ¼r:
- WochenrÃ¼ckblicke
- MonatsabschlÃ¼sse
- JahresgesprÃ¤che
- Projektdokumentation

**F: Wie detailliert sollten meine Zeitbuchungen sein?**  
A: Ein guter Mittelweg:
- Erfassen Sie alle Arbeitsstunden
- Wechseln Sie das Projekt, wenn Sie an etwas anderem arbeiten
- Kurze, aussagekrÃ¤ftige Beschreibungen
- Ehrliche Zeiterfassung

---

## Kontakt & Support

**Bei Fragen oder Problemen:**

**Technischer Support:**
- E-Mail: support@cflux.ch (fiktiv)
- Telefon: +41 XX XXX XX XX
- Ã–ffnungszeiten: Mo-Fr, 08:00-17:00 Uhr

**Administratoren:**
- FÃ¼r Zeitkorrekturen
- FÃ¼r Projektzuweisungen
- FÃ¼r Urlaubsgenehmigungen
- FÃ¼r Benutzerrechte

**HR-Abteilung:**
- FÃ¼r Urlaubsfragen
- FÃ¼r Arbeitszeit-Richtlinien
- FÃ¼r Vertragsangelegenheiten

---

## Glossar

| Begriff | Bedeutung |
|---------|-----------|
| **Einstempeln** | Start der Arbeitszeiterfassung |
| **Ausstempeln** | Ende der Arbeitszeiterfassung |
| **Zeiteintrag** | Eine erfasste Arbeitsperiode (von-bis) |
| **Projekt** | Arbeitsprojekt, dem Zeiten zugeordnet werden |
| **Urlaubskonto** | Ihre verfÃ¼gbaren Urlaubstage |
| **Abwesenheit** | Jede Nicht-Arbeitszeit (Urlaub, Krankheit, etc.) |
| **Status** | Zustand eines Antrags (Ausstehend, Genehmigt, Abgelehnt) |
| **Report** | Zusammenfassende Auswertung Ihrer Zeiten |

---

## Shortcuts & Tipps

**Tastatur-Shortcuts:**
- `Alt+E` - Einstempeln
- `Alt+A` - Ausstempeln
- `Alt+U` - Urlaub beantragen
- `Alt+R` - Reports Ã¶ffnen

**Mobile Nutzung:**
- cflux ist mobilfreundlich gestaltet
- Zeiterfassung funktioniert auf Smartphone/Tablet
- Responsive Design passt sich an Ihr GerÃ¤t an

**Browser-Empfehlungen:**
- Chrome, Firefox, Safari, Edge (neueste Versionen)
- JavaScript muss aktiviert sein
- Cookies mÃ¼ssen erlaubt sein

---

**Ende des Benutzerhandbuchs**

Wir wÃ¼nschen Ihnen produktives Arbeiten mit cflux!

Bei Fragen steht Ihnen unser Support-Team gerne zur VerfÃ¼gung.

# cflux Administrator-Handbuch

**FÃ¼r Administratoren und System-Manager**  
Version 1.0 - Januar 2025

---

## Inhaltsverzeichnis

1. [Administrator-Rolle](#administrator-rolle)
2. [Benutzerverwaltung](#benutzerverwaltung)
3. [Projektverwaltung](#projektverwaltung)
4. [Zeitmanagement](#zeitmanagement)
5. [Urlaubsverwaltung](#urlaubsverwaltung)
6. [Rechnungswesen](#rechnungswesen)
7. [Reporting & Analytics](#reporting--analytics)
8. [System-Administration](#system-administration)
9. [Best Practices](#best-practices)

---

## Administrator-Rolle

### Berechtigungen

Als Administrator haben Sie **vollstÃ¤ndigen Zugriff** auf alle Funktionen:

**Benutzer:**
- âœ… Benutzer erstellen, bearbeiten, lÃ¶schen
- âœ… Rollen zuweisen (USER â†” ADMIN)
- âœ… Urlaubskontingente festlegen
- âœ… Benutzer aktivieren/deaktivieren

**Projekte:**
- âœ… Projekte erstellen, bearbeiten, lÃ¶schen
- âœ… Benutzer zu Projekten zuweisen
- âœ… Projekt-Status verwalten

**Zeiterfassung:**
- âœ… ZeiteintrÃ¤ge aller Benutzer einsehen
- âœ… ZeiteintrÃ¤ge korrigieren
- âœ… ZeiteintrÃ¤ge lÃ¶schen

**Urlaub & Abwesenheiten:**
- âœ… Alle AntrÃ¤ge einsehen
- âœ… AntrÃ¤ge genehmigen/ablehnen
- âœ… AntrÃ¤ge stornieren

**Reports:**
- âœ… Team-weite Reports
- âœ… Projekt-Auswertungen
- âœ… Export-Funktionen

**Rechnungen:**
- âœ… Rechnungen erstellen
- âœ… Rechnungen versenden
- âœ… Zahlungen tracken

### Verantwortlichkeiten

Als Administrator sind Sie verantwortlich fÃ¼r:

1. **TÃ¤gliche Aufgaben:**
   - UrlaubsantrÃ¤ge prÃ¼fen und bearbeiten
   - Zeitkorrekturen durchfÃ¼hren
   - Benutzer-Support leisten

2. **WÃ¶chentliche Aufgaben:**
   - ArbeitszeitÃ¼bersichten prÃ¼fen
   - Projekt-Auslastung kontrollieren
   - System-Health Ã¼berprÃ¼fen

3. **Monatliche Aufgaben:**
   - Monatsberichte erstellen
   - Abwesenheitsstatistiken prÃ¼fen
   - Rechnungen erstellen
   - Datensicherung kontrollieren

4. **JÃ¤hrliche Aufgaben:**
   - Urlaubskontingente aktualisieren
   - Jahresberichte erstellen
   - System-Review durchfÃ¼hren

---

## Benutzerverwaltung

### Benutzer erstellen

**Manuelles Anlegen:**

1. Navigieren Sie zu **"Verwaltung" â†’ "Benutzer"**
2. Klicken Sie auf **"Neuer Benutzer"**
3. FÃ¼llen Sie das Formular aus:
   ```
   E-Mail:         max.mustermann@firma.ch
   Vorname:        Max
   Nachname:       Mustermann
   Rolle:          USER / ADMIN
   Urlaubstage:    25 (Standard)
   Aktiv:          âœ“ Ja
   ```
4. Klicken Sie **"Erstellen"**

**Initiales Passwort:**
- System generiert temporÃ¤res Passwort
- Benutzer erhÃ¤lt E-Mail mit Login-Daten
- Benutzer muss Passwort bei erster Anmeldung Ã¤ndern

**Bulk-Import (CSV):**

FÃ¼r viele Benutzer auf einmal:

1. Navigieren Sie zu **"Verwaltung" â†’ "Benutzer" â†’ "Import"**
2. Laden Sie die CSV-Vorlage herunter
3. FÃ¼llen Sie die CSV-Datei aus:
   ```csv
   email,firstName,lastName,role,vacationDays
   max@firma.ch,Max,Mustermann,USER,25
   anna@firma.ch,Anna,Schmidt,USER,25
   admin@firma.ch,Admin,User,ADMIN,30
   ```
4. Laden Sie die Datei hoch
5. PrÃ¼fen Sie die Vorschau
6. Klicken Sie **"Importieren"**

### Benutzer bearbeiten

**Profildaten Ã¤ndern:**

1. Ã–ffnen Sie **"Verwaltung" â†’ "Benutzer"**
2. Klicken Sie auf den Benutzer
3. Klicken Sie **"Bearbeiten"**
4. Ã„ndern Sie die Daten:
   - Name
   - E-Mail (wird als neuer Login verwendet)
   - Urlaubstage
   - Rolle
5. Klicken Sie **"Speichern"**

**Rolle Ã¤ndern:**

**USER zu ADMIN machen:**
```
Benutzer Ã¶ffnen â†’ Rolle: ADMIN auswÃ¤hlen â†’ Speichern
```

**ADMIN zu USER zurÃ¼ckstufen:**
```
Benutzer Ã¶ffnen â†’ Rolle: USER auswÃ¤hlen â†’ Speichern
```

âš ï¸ **Wichtig:** Es sollte immer mindestens ein ADMIN-Benutzer existieren!

### Passwort zurÃ¼cksetzen

Wenn ein Benutzer sein Passwort vergessen hat:

1. Ã–ffnen Sie den Benutzer
2. Klicken Sie **"Passwort zurÃ¼cksetzen"**
3. WÃ¤hlen Sie:
   - **TemporÃ¤res Passwort generieren** (wird per E-Mail gesendet)
   - **Eigenes Passwort setzen** (geben Sie ein neues Passwort ein)
4. BestÃ¤tigen Sie

Der Benutzer kann sich nun mit dem neuen Passwort anmelden.

### Benutzer deaktivieren

**Soft Delete** (empfohlen):

Wenn ein Mitarbeiter das Unternehmen verlÃ¤sst:

1. Ã–ffnen Sie den Benutzer
2. Setzen Sie **"Aktiv"** auf **Nein**
3. Speichern Sie

**Effekt:**
- âœ… Benutzer kann sich nicht mehr anmelden
- âœ… Alle historischen Daten bleiben erhalten
- âœ… ZeiteintrÃ¤ge und Urlaube sind weiterhin in Reports sichtbar
- âœ… Benutzer kann bei Bedarf reaktiviert werden

**Hard Delete** (mit Vorsicht):

âš ï¸ **Nur in AusnahmefÃ¤llen!**

1. Ã–ffnen Sie den Benutzer
2. Klicken Sie **"LÃ¶schen"**
3. BestÃ¤tigen Sie die Sicherheitsabfrage

**Effekt:**
- âŒ Benutzer wird aus System entfernt
- âŒ Alle ZeiteintrÃ¤ge gehen verloren
- âŒ Unwiderruflich!

**Empfehlung:** Verwenden Sie immer Soft Delete (Deaktivieren).

### Urlaubskontingent verwalten

**Initiales Kontingent setzen:**

Bei neuem Benutzer oder Jahreswechsel:

1. Ã–ffnen Sie den Benutzer
2. Feld **"Urlaubstage"**: Setzen Sie die Anzahl (z.B. 25)
3. Speichern Sie

**Anpassungen wÃ¤hrend des Jahres:**

**Urlaubstage hinzufÃ¼gen:**
```
Beispiel: Sonderurlaub fÃ¼r Hochzeit
â†’ Urlaubstage von 25 auf 28 erhÃ¶hen
```

**Urlaubstage reduzieren:**
```
Beispiel: Teilzeit-Wechsel
â†’ Urlaubstage von 25 auf 20 reduzieren
```

**Ãœbersicht fÃ¼r alle Benutzer:**

Report: **"UrlaubsÃ¼bersicht"** zeigt:
- Kontingent pro Benutzer
- Genommener Urlaub
- Geplanter Urlaub (genehmigt aber noch nicht genommen)
- Verbleibende Tage

---

## Projektverwaltung

### Projekt erstellen

1. Navigieren Sie zu **"Verwaltung" â†’ "Projekte"**
2. Klicken Sie **"Neues Projekt"**
3. FÃ¼llen Sie das Formular aus:
   ```
   Name:           Website Redesign 2025
   Beschreibung:   Kompletter Relaunch der Firmenwebsite
   Aktiv:          âœ“ Ja
   Kunde:          Acme Corp (optional)
   Budget:         100 Stunden (optional)
   ```
4. Klicken Sie **"Erstellen"**

### Benutzer zu Projekten zuweisen

**Einzelzuweisung:**

1. Ã–ffnen Sie das Projekt
2. Klicken Sie **"Benutzer zuweisen"**
3. WÃ¤hlen Sie Benutzer aus der Liste
4. Klicken Sie **"Zuweisen"**

**Mehrfachzuweisung:**

1. Ã–ffnen Sie das Projekt
2. Aktivieren Sie die Checkboxen bei allen gewÃ¼nschten Benutzern
3. Klicken Sie **"AusgewÃ¤hlte zuweisen"**

**Benutzer entfernen:**

1. Ã–ffnen Sie das Projekt
2. Klicken Sie auf das **"X"** neben dem Benutzer
3. BestÃ¤tigen Sie die Entfernung

ğŸ’¡ **Tipp:** Nur zugewiesene Benutzer kÃ¶nnen auf das Projekt Zeiten buchen!

### Projekt-Lifecycle

**Aktives Projekt:**
```
Status: Aktiv âœ“
â†’ Benutzer kÃ¶nnen Zeiten buchen
â†’ Erscheint in Projekt-Listen
```

**Projekt pausieren:**
```
Status: Inaktiv âœ—
â†’ Keine neuen Zeitbuchungen mÃ¶glich
â†’ Historische Daten bleiben erhalten
â†’ Kann jederzeit reaktiviert werden
```

**Projekt abschlieÃŸen:**
```
1. Setzen auf Inaktiv
2. Final-Report erstellen
3. Optional: Rechnung erstellen
4. Projekt archivieren
```

### Projekt-Ãœbersicht

**Dashboard** zeigt fÃ¼r jedes Projekt:

```
Project: Website Redesign
Status:  Aktiv
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Team:           4 Mitarbeiter
Gesamtstunden:  120h von 150h Budget
Auslastung:     80%
Letzte Buchung: 15.01.2025 17:30
Top Contributor: Max Mustermann (45h)
```

**Alerts:**
- ğŸŸ¡ Warnung bei 80% Budget-Auslastung
- ğŸ”´ Kritisch bei 100% Budget Ã¼berschritten
- â° Keine AktivitÃ¤t seit >7 Tagen

---

## Zeitmanagement

### ZeiteintrÃ¤ge prÃ¼fen

**Team-Ãœbersicht:**

1. Navigieren Sie zu **"Verwaltung" â†’ "ZeiteintrÃ¤ge"**
2. Filter setzen:
   - Zeitraum (heute, diese Woche, ...)
   - Benutzer
   - Projekt
   - Status (eingestempelt/ausgestempelt)

**Was Sie sehen:**
```
15.01.2025
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Max Mustermann
  08:00 - 12:00  Website Redesign    4h
  13:00 - 17:00  Mobile App          4h
  Gesamt: 8h âœ“

Anna Schmidt
  08:30 - ???    CRM System          Eingestempelt ğŸ”´
  
Status: 1 Benutzer noch eingestempelt
```

### ZeiteintrÃ¤ge korrigieren

**Wann korrigieren?**
- Vergessenes Ausstempeln
- Falsche Projektbuchung
- Zeitfehler (zu frÃ¼h/zu spÃ¤t)

**So korrigieren Sie:**

1. Suchen Sie den Zeiteintrag
2. Klicken Sie auf **"Bearbeiten"**
3. Ã„ndern Sie:
   - Einstempel-Zeit
   - Ausstempel-Zeit
   - Projekt
   - Beschreibung
4. **Wichtig:** Geben Sie einen Korrektur-Grund an!
5. Klicken Sie **"Speichern"**

**Best Practice:**
```
Korrektur-Grund Beispiele:
âœ… "Vergessenes Ausstempeln nachtragen"
âœ… "Falsche Projektbuchung korrigiert"
âœ… "Zeitanpassung nach RÃ¼cksprache mit MA"

âŒ Nicht einfach leer lassen!
```

**Audit Trail:**
Alle Korrekturen werden geloggt:
- Wer hat korrigiert
- Wann wurde korrigiert
- Was wurde geÃ¤ndert
- Grund der Korrektur

### Zeiteintrag lÃ¶schen

âš ï¸ **Nur in AusnahmefÃ¤llen!**

**GrÃ¼nde zum LÃ¶schen:**
- Doppelte Buchung
- Test-Eintrag
- IrrtÃ¼mliche Buchung

**So lÃ¶schen Sie:**

1. Zeiteintrag Ã¶ffnen
2. Klicken Sie **"LÃ¶schen"**
3. Geben Sie LÃ¶sch-Grund an
4. BestÃ¤tigen Sie

ğŸ’¡ **Besser:** Korrigieren statt LÃ¶schen (fÃ¼r Audit Trail)

### Offene ZeiteintrÃ¤ge schlieÃŸen

**Problem:** Benutzer hat vergessen auszustempeln

**LÃ¶sung 1 - Manuell:**
1. Finden Sie den offenen Eintrag
2. Bearbeiten Sie ihn
3. Setzen Sie Ausstempel-Zeit
4. Speichern Sie

**LÃ¶sung 2 - Automatisch:**
NÃ¤chtlicher Cronjob schlieÃŸt offene EintrÃ¤ge:
```
Konfiguration in .env:
AUTO_CLOCK_OUT_TIME=18:00
AUTO_CLOCK_OUT_ENABLED=true

â†’ Alle offenen EintrÃ¤ge werden um 18:00 Uhr geschlossen
```

---

## Urlaubsverwaltung

### AntrÃ¤ge bearbeiten

**Ãœbersicht der AntrÃ¤ge:**

Navigieren Sie zu **"Verwaltung" â†’ "UrlaubsantrÃ¤ge"**

```
Ausstehende AntrÃ¤ge (3)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Max Mustermann
  01.02. - 07.02.2025 (5 Tage)
  Typ: Urlaub
  Grund: Familienurlaub
  [Genehmigen] [Ablehnen]

Anna Schmidt
  15.03. - 15.03.2025 (0.5 Tage)
  Typ: Urlaub
  Grund: Arzttermin
  [Genehmigen] [Ablehnen]
```

### Antrag genehmigen

**Standard-Genehmigung:**

1. Klicken Sie **"Genehmigen"**
2. Optional: Kommentar hinzufÃ¼gen
3. BestÃ¤tigen Sie

**Effekt:**
- âœ… Status â†’ APPROVED
- âœ… Urlaubstage werden vom Kontingent abgezogen
- âœ… Benutzer erhÃ¤lt Benachrichtigung
- âœ… Erscheint in KalenderÃ¼bersicht

**PrÃ¼fungen vor Genehmigung:**

**1. VerfÃ¼gbare Urlaubstage:**
```
Kontingent:  25 Tage
Genommen:    10 Tage
Beantragt:    5 Tage
Verbleibend: 10 Tage âœ“
```

**2. Team-Auslastung:**
- Sind genug Mitarbeiter anwesend?
- Gibt es bereits viele Urlaube im Zeitraum?
- Ist das Projekt ausreichend besetzt?

**3. Projekttermine:**
- Gibt es kritische Deadlines?
- Ist der Mitarbeiter zwingend erforderlich?

**4. Vorlaufzeit:**
- Wurde rechtzeitig beantragt?
- Mindestens 2 Wochen im Voraus (Richtlinie)

### Antrag ablehnen

**Ablehnung mit BegrÃ¼ndung:**

1. Klicken Sie **"Ablehnen"**
2. **Wichtig:** Geben Sie einen Grund an!
   ```
   Beispiele:
   "Projektdeadline am 05.02., bitte alternativen Zeitraum wÃ¤hlen"
   "Team-Meeting am 02.02. - Ihre Anwesenheit erforderlich"
   "Bereits 2 Kollegen im Urlaub, minimal Besetzung"
   ```
3. BestÃ¤tigen Sie

**Effekt:**
- âŒ Status â†’ REJECTED
- âŒ Keine Urlaubstage abgezogen
- âŒ Benutzer erhÃ¤lt Benachrichtigung mit BegrÃ¼ndung

**Best Practice:**
- Immer konstruktive BegrÃ¼ndung geben
- Alternative ZeitrÃ¤ume vorschlagen
- Bei Ablehnung: PersÃ¶nliches GesprÃ¤ch empfohlen

### Genehmigten Urlaub stornieren

**Wann nÃ¶tig?**
- Dringende Projektanforderung
- Mitarbeiter selbst storniert
- Fehlerhafte Genehmigung

**So stornieren Sie:**

1. Ã–ffnen Sie den genehmigten Antrag
2. Klicken Sie **"Stornieren"**
3. Geben Sie Grund an
4. BestÃ¤tigen Sie

**Effekt:**
- Urlaubstage werden zurÃ¼ckgebucht
- Status â†’ CANCELLED
- Benutzer wird benachrichtigt

âš ï¸ **Achtung:** Nur in AusnahmefÃ¤llen! Stornierung bereits genehmigter Urlaube ist problematisch.

### Urlaubskalender

**Team-KalenderÃ¼bersicht:**

```
Februar 2025
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Mo Di Mi Do Fr Sa So
                1  2
3  4  5  6  7  8  9
   ğŸ–ï¸ ğŸ–ï¸ ğŸ–ï¸ ğŸ–ï¸     Max M.
10 11 12 13 14 15 16
ğŸ–ï¸ ğŸ–ï¸ ğŸ–ï¸           Anna S.
17 18 19 20 21 22 23
      ğŸ¤’ ğŸ¤’         Tom K.
24 25 26 27 28

Legende:
ğŸ–ï¸ Urlaub
ğŸ¤’ Krankheit
ğŸ¡ Home Office
```

**Export-Funktionen:**
- iCal Export (fÃ¼r Outlook/Google Calendar)
- PDF Export (fÃ¼r Aushang)
- Excel Export (fÃ¼r Planung)

---

## Rechnungswesen

### Rechnung erstellen

**Schritt 1 - Grunddaten:**

1. Navigieren Sie zu **"Verwaltung" â†’ "Rechnungen"**
2. Klicken Sie **"Neue Rechnung"**
3. WÃ¤hlen Sie:
   ```
   Kunde:          Acme Corp
   Projekt:        Website Redesign
   Rechnungsdatum: 31.01.2025
   FÃ¤lligkeitsdatum: 28.02.2025 (30 Tage)
   ```

**Schritt 2 - Positionen:**

**Manuelle Positionen:**
```
Pos  Beschreibung              Menge  Einheit  Preis    MwSt   Total
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1    Backend Entwicklung       40     Stunden  120 CHF  8.1%   5'188.80
2    Frontend Entwicklung      30     Stunden  120 CHF  8.1%   3'891.60
3    Projektmanagement         10     Stunden  150 CHF  8.1%   1'621.50
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                                                   Subtotal:    9'600.00
                                                   MwSt 8.1%:     777.60
                                                   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                                                   Total:      10'377.60 CHF
```

**Aus Zeitbuchungen:**
1. Klicken Sie **"Aus ZeiteintrÃ¤gen generieren"**
2. WÃ¤hlen Sie Zeitraum
3. WÃ¤hlen Sie Benutzer/Projekte
4. System fasst automatisch zusammen:
   ```
   Max Mustermann - Website Redesign: 40h Ã— 120 CHF = 4'800 CHF
   Anna Schmidt - Website Redesign: 30h Ã— 120 CHF = 3'600 CHF
   ```
5. PrÃ¼fen und anpassen Sie

**Schritt 3 - Details:**
```
Zahlungsbedingungen:
â˜‘ Zahlbar innerhalb 30 Tagen
â˜‘ 2% Skonto bei Zahlung binnen 10 Tagen
â˜ Anzahlung 50%

Notizen:
Vielen Dank fÃ¼r Ihren Auftrag!

FuÃŸzeile:
Bankverbindung: IBAN CH...
```

**Schritt 4 - QR-Rechnung (Schweiz):**

Automatische Generierung:
- âœ… QR-Code mit allen Zahlungsinformationen
- âœ… IBAN
- âœ… Betrag
- âœ… Referenznummer
- âœ… Rechnungsadresse

### Rechnung versenden

**Als PDF:**

1. Ã–ffnen Sie die Rechnung
2. Klicken Sie **"PDF generieren"**
3. Vorschau prÃ¼fen
4. **"Herunterladen"** oder **"Per E-Mail senden"**

**E-Mail-Versand:**
```
An:        buchhaltung@kunde.ch
Betreff:   Rechnung RE-2025-001 - Website Redesign
Text:      [Standard-Template oder benutzerdefiniert]
Anhang:    RE-2025-001.pdf
```

**Status nach Versand:**
- Status: DRAFT â†’ SENT
- Versanddatum wird gespeichert
- Tracking: "Wann wurde versendet"

### Zahlungsstatus verwalten

**Zahlung erfassen:**

Wenn Kunde bezahlt hat:

1. Ã–ffnen Sie die Rechnung
2. Klicken Sie **"Zahlung erfassen"**
3. Geben Sie ein:
   ```
   Zahlungsdatum:   15.02.2025
   Betrag:          10'377.60 CHF
   Zahlungsart:     BankÃ¼berweisung
   Referenz:        Buchungsbeleg XYZ
   ```
4. Speichern Sie

**Status:**
- Status: SENT â†’ PAID
- ÃœberfÃ¤llig-Warnung wird entfernt

**Teilzahlungen:**

Bei Anzahlungen oder Ratenzahlungen:

```
Rechnungsbetrag:  10'377.60 CHF
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Zahlung 1:        5'000.00 CHF  (15.02.)
Zahlung 2:        5'377.60 CHF  (15.03.)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Bezahlt:         10'377.60 CHF âœ“
Offen:                0.00 CHF
```

### Mahnwesen

**ÃœberfÃ¤llige Rechnungen:**

Automatische Erkennung:
- Status â†’ OVERDUE wenn FÃ¤lligkeitsdatum Ã¼berschritten
- Dashboard zeigt Ã¼berfÃ¤llige Rechnungen

**Mahnungen erstellen:**

**1. Mahnung (nach 7 Tagen):**
```
Betreff: Zahlungserinnerung RE-2025-001
Ton:     Freundlich
Inhalt:  "MÃ¶glicherweise haben Sie unsere Rechnung Ã¼bersehen..."
```

**2. Mahnung (nach 14 Tagen):**
```
Betreff: 1. Mahnung RE-2025-001
Ton:     Bestimmt aber hÃ¶flich
MahngebÃ¼hr: 50 CHF
```

**3. Mahnung (nach 30 Tagen):**
```
Betreff: 2. Mahnung RE-2025-001
Ton:     Ernst
MahngebÃ¼hr: 100 CHF
Androhung: Inkasso
```

### Finanz-Ãœbersicht

**Dashboard "Rechnungen":**

```
Monat Januar 2025
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Rechnungen erstellt:      15
Gesamtvolumen:            250'000 CHF

Status:
  Draft:        3  (20'000 CHF)
  Versendet:    7  (150'000 CHF)
  Bezahlt:      4  ( 70'000 CHF)
  ÃœberfÃ¤llig:   1  ( 10'000 CHF) ğŸ”´

Ausstehend:             160'000 CHF
Durchschn. Zahlungsziel: 22 Tage
```

---

## Reporting & Analytics

### Standard-Reports

**1. Team-Ãœbersicht:**
```
Zeitraum: Januar 2025
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Mitarbeiter    Stunden  Tage  Projekte  Urlaub
Max M.         160h     20    3         0
Anna S.        152h     19    2         1
Tom K.         144h     18    4         2

Gesamt:        1280h    160   -         10
Durchschnitt:  160h     20    3         1.25
```

**2. Projekt-Auslastung:**
```
Projekt              Team  Stunden  Budget  Auslastung
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Website Redesign     4     320h     400h    80% âœ“
Mobile App           3     240h     200h    120% ğŸ”´
CRM System           2     80h      150h    53% ğŸŸ¡
```

**3. UrlaubsÃ¼bersicht:**
```
Mitarbeiter    Kontingent  Genommen  Geplant  VerfÃ¼gbar
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Max M.         25          5         3        17
Anna S.        25          8         0        17
Tom K.         25          3         5        17
```

### Custom Reports erstellen

**Report-Builder:**

1. Navigieren Sie zu **"Reports" â†’ "Neuer Report"**
2. WÃ¤hlen Sie:
   ```
   Typ:         Zeiterfassung / Urlaub / Projekt
   Zeitraum:    01.01.2025 - 31.01.2025
   Filter:
     â˜‘ Benutzer:  [Alle / Auswahl]
     â˜‘ Projekte:  [Alle / Auswahl]
     â˜‘ Status:    [Alle / Aktiv / Inaktiv]
   
   Gruppierung: Nach Benutzer / Projekt / Woche / Monat
   Sortierung:  Name / Stunden / Datum
   ```
3. **"Vorschau"** â†’ PrÃ¼fen
4. **"Erstellen"** â†’ Report wird generiert

**Speichern fÃ¼r Wiederverwendung:**
- Reports kÃ¶nnen als Vorlage gespeichert werden
- Monatliche Reports automatisieren

### Export-Funktionen

**PDF Export:**
- Formatierte Berichte
- Firmen-Logo/Header
- Professionelles Layout
- Geeignet fÃ¼r PrÃ¤sentationen

**Excel Export:**
- Alle Rohdaten
- Pivot-Tabellen mÃ¶glich
- Weitere Analyse in Excel
- Archivierung

**CSV Export:**
- Einfaches Format
- Import in andere Systeme
- Datenverarbeitung
- Backup

### Dashboards

**Admin-Dashboard:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Aktuelle Auslastung                                 â”‚
â”‚                                                     â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  20/25 Mitarbeiter @ Arbeit   â”‚
â”‚                                                     â”‚
â”‚ Heute eingestempelt: 20                             â”‚
â”‚ Home Office:         3                              â”‚
â”‚ Urlaub/Krank:        2                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ausstehende Aktionen                                â”‚
â”‚                                                     â”‚
â”‚ ğŸ”” UrlaubsantrÃ¤ge:      5 warten auf Genehmigung   â”‚
â”‚ â° Offene ZeiteintrÃ¤ge: 2 seit gestern offen       â”‚
â”‚ ğŸ’° ÃœberfÃ¤llige Rechnung: 1 (10'000 CHF)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Monatsstatistik (Januar 2025)                       â”‚
â”‚                                                     â”‚
â”‚ Gesamtstunden:     3'200h                           â”‚
â”‚ Urlaubstage:       45                               â”‚
â”‚ Krankheitstage:    12                               â”‚
â”‚ Rechnungsvolumen:  250'000 CHF                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## System-Administration

### Backup & Restore

**Automatisches Backup:**

Konfiguration in `.env`:
```bash
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # TÃ¤glich um 2 Uhr
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/opt/cflux/backups
```

**Manuelles Backup:**

```bash
# Datenbank-Backup
docker exec timetracking-db pg_dump -U timetracking timetracking > \
  backup_$(date +%Y%m%d).sql

# Komprimieren
gzip backup_$(date +%Y%m%d).sql

# Auf externes Storage kopieren
scp backup_*.sql.gz backup-server:/backups/cflux/
```

**Restore:**

```bash
# Backup entpacken
gunzip backup_20250115.sql.gz

# Datenbank wiederherstellen
docker exec -i timetracking-db psql -U timetracking timetracking < backup_20250115.sql
```

### Benutzer-AktivitÃ¤t Ã¼berwachen

**Audit Log:**

```
Timestamp             User             Action                    Details
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-01-15 14:30:22   admin@firma.ch   USER_CREATED              max@firma.ch
2025-01-15 14:35:10   admin@firma.ch   PROJECT_ASSIGNED          Max â†’ Projekt ABC
2025-01-15 14:40:55   max@firma.ch     CLOCK_IN                  Projekt ABC
2025-01-15 15:20:30   admin@firma.ch   TIME_ENTRY_CORRECTED      Entry #123 (Korrektur)
2025-01-15 16:00:00   admin@firma.ch   ABSENCE_APPROVED          Urlaub Max 5 Tage
```

**Zugriff auf Audit Log:**
- Navigieren Sie zu **"System" â†’ "Audit Log"**
- Filter nach Benutzer, Datum, Aktion
- Export als CSV mÃ¶glich

### System-Einstellungen

**Globale Konfiguration:**

```
Zeiterfassung
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Max. Arbeitszeit/Tag:       10 Stunden
Pflicht-Pause ab:           6 Stunden
Auto-Ausstempeln:           18:00 Uhr
Zeitbuchung in Zukunft:     â˜ Erlauben

Urlaub
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Standard Urlaubstage:       25 Tage
Min. Vorlaufzeit:           2 Wochen
Max. Urlaubstage am StÃ¼ck:  20 Tage
Resturlaub Ã¼bertragbar:     â˜‘ Ja (bis 31.03.)

Rechnungen
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Standard Zahlungsziel:      30 Tage
MwSt-Satz:                  8.1%
Rechnungsnummer-Format:     RE-{JAHR}-{NUMMER}
Automatische Nummerierung:  â˜‘ Ja

E-Mail
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
SMTP Server:                smtp.firma.ch
Port:                       587
VerschlÃ¼sselung:            TLS
Absender:                   noreply@cflux.firma.ch
```

### Wartungsarbeiten

**RegelmÃ¤ÃŸige Tasks:**

**TÃ¤glich:**
- Backup prÃ¼fen
- Offene ZeiteintrÃ¤ge schlieÃŸen (Auto)
- ÃœberfÃ¤llige Rechnungen markieren (Auto)

**WÃ¶chentlich:**
- Log-Dateien rotieren
- Performance-Metriken prÃ¼fen
- Disk Space monitoren

**Monatlich:**
- Alte Logs archivieren
- Backup-Rotation
- Security Updates prÃ¼fen

**JÃ¤hrlich:**
- Urlaubskontingente zurÃ¼cksetzen
- Jahresarchiv erstellen
- System-Review

### Wartungsmodus

**System fÃ¼r Wartung sperren:**

```bash
# Wartungsmodus aktivieren
docker exec timetracking-backend npm run maintenance:on

# Wartungsmodus deaktivieren
docker exec timetracking-backend npm run maintenance:off
```

**Effekt:**
- Benutzer sehen Wartungshinweis
- Login nicht mÃ¶glich
- Admin-Zugang bleibt bestehen
- Keine Datenverluste

---

## Best Practices

### TÃ¤gliche Routine

**Morgens (08:00-09:00):**
1. Dashboard-Check
2. UrlaubsantrÃ¤ge prÃ¼fen (max. 24h Reaktionszeit)
3. Offene ZeiteintrÃ¤ge vom Vortag schlieÃŸen
4. Krankheitsmeldungen prÃ¼fen

**Mittags:**
1. Aktuelle Team-Auslastung prÃ¼fen
2. Zeitkorrekturen durchfÃ¼hren

**Abends (17:00-18:00):**
1. TagesÃ¼bersicht erstellen
2. Kritische Alerts prÃ¼fen
3. Backup-Status kontrollieren

### WÃ¶chentliche Aufgaben

**Montags:**
- Wochenplanung: Team-Auslastung
- Projekt-Status-Updates
- Urlaubs-Kalender prÃ¼fen

**Freitags:**
- Wochenreport erstellen
- ZeiteintrÃ¤ge-QualitÃ¤t prÃ¼fen
- Ausstehende Genehmigungen abarbeiten

### Monatliche Aufgaben

**Monatsanfang:**
- Vormonat abschlieÃŸen
- Monatsberichte erstellen
- UrlaubsÃ¼bersicht aktualisieren

**Monatsende:**
- Rechnungen erstellen
- Projekt-Auswertungen
- Budget-Kontrolle

### Kommunikations-Richtlinien

**UrlaubsantrÃ¤ge:**
- Reaktionszeit: Max. 24 Stunden
- Bei Ablehnung: Immer BegrÃ¼ndung + Alternative
- Bei Genehmigung: Kurzes BestÃ¤tigung-Kommentar

**Zeitkorrekturen:**
- Immer Korrektur-Grund dokumentieren
- Benutzer informieren Ã¼ber grÃ¶ÃŸere Ã„nderungen
- Bei Unstimmigkeiten: PersÃ¶nliches GesprÃ¤ch

**Probleme:**
- Offene Kommunikation
- LÃ¶sungsorientiert
- Dokumentation im System

### Datenschutz & Compliance

**DSGVO-KonformitÃ¤t:**
- âœ… Mitarbeiter-Daten minimieren
- âœ… Zugriffskontrolle (Rollen)
- âœ… Audit-Logs fÃ¼hren
- âœ… DatenlÃ¶schung auf Anfrage

**Schweizer OR (Obligationenrecht):**
- âœ… Korrekte Arbeitszeiterfassung
- âœ… Pausenregelungen einhalten
- âœ… Ãœberstunden-Tracking
- âœ… Aufbewahrungspflicht (10 Jahre)

**Tipps:**
- RegelmÃ¤ÃŸige Datenschutz-Schulungen
- Privacy by Design
- VerschlÃ¼sselung nutzen
- Zugriffsrechte regelmÃ¤ÃŸig prÃ¼fen

---

## Troubleshooting

### HÃ¤ufige Admin-Probleme

**Problem: Benutzer kann sich nicht anmelden**

**Checkliste:**
1. â˜ Ist Benutzer aktiv? (Status prÃ¼fen)
2. â˜ Passwort korrekt? (TemporÃ¤res PW setzen)
3. â˜ E-Mail-Adresse korrekt?
4. â˜ Account gesperrt? (Nach zu vielen Fehlversuchen)
5. â˜ System-weites Problem? (Andere Benutzer betroffen?)

**LÃ¶sung:**
- Benutzer reaktivieren
- Passwort zurÃ¼cksetzen
- Account entsperren (nach 30 Min automatisch)

**Problem: ZeiteintrÃ¤ge fehlen**

**Checkliste:**
1. â˜ Falscher Zeitraum gewÃ¤hlt?
2. â˜ Filter aktiv? (Projekt, Status)
3. â˜ Benutzer hat vergessen zu buchen?
4. â˜ Daten verloren gegangen? (Backup prÃ¼fen)

**LÃ¶sung:**
- Filter zurÃ¼cksetzen
- Benutzer kontaktieren
- Bei Datenverlust: Backup einspielen

**Problem: Reports zeigen falsche Zahlen**

**Checkliste:**
1. â˜ Zeitzone korrekt?
2. â˜ Filter richtig gesetzt?
3. â˜ Inkonsistente Daten? (Offene EintrÃ¤ge)
4. â˜ Bug im System?

**LÃ¶sung:**
- Offene ZeiteintrÃ¤ge schlieÃŸen
- DatenintegritÃ¤t prÃ¼fen
- Bei Fehlern: Support kontaktieren

---

## Anhang

### Checklisten

**Neuer Mitarbeiter Onboarding:**
- [ ] Benutzer anlegen
- [ ] Urlaubskontingent setzen (Standard: 25)
- [ ] Zu Projekten zuweisen
- [ ] Willkommens-E-Mail mit Login-Daten
- [ ] EinfÃ¼hrung in cflux geben
- [ ] Erste Zeitbuchung prÃ¼fen

**Mitarbeiter Offboarding:**
- [ ] Laufende Projekte abschlieÃŸen
- [ ] Letzte ZeiteintrÃ¤ge prÃ¼fen
- [ ] Resturlaub auszahlen/dokumentieren
- [ ] Final-Report erstellen
- [ ] Benutzer deaktivieren (nicht lÃ¶schen!)
- [ ] Zugriffsrechte entziehen

**Monatsabschluss:**
- [ ] Alle ZeiteintrÃ¤ge prÃ¼fen
- [ ] UrlaubsantrÃ¤ge bearbeiten
- [ ] Krankheitstage dokumentieren
- [ ] Projekt-Auswertungen erstellen
- [ ] Rechnungen erstellen
- [ ] Monatsreport an Management
- [ ] Backup kontrollieren

### Kontakte

**Technischer Support:**
- E-Mail: support@cflux.ch
- Hotline: +41 XX XXX XX XX
- Ã–ffnungszeiten: Mo-Fr 08:00-17:00

**Entwickler:**
- GitHub: github.com/mpue/cflux
- Issues: github.com/mpue/cflux/issues

---

**Ende Administrator-Handbuch**

Vielen Dank fÃ¼r Ihre Arbeit als cflux Administrator!  
Bei Fragen steht Ihnen unser Support-Team zur VerfÃ¼gung.

# cflux API Dokumentation

Version 1.0  
Base URL: `http://localhost:3001/api`  
Authentication: JWT Bearer Token

---

## Inhaltsverzeichnis

1. [Authentifizierung](#authentifizierung)
2. [Benutzer](#benutzer)
3. [Zeiterfassung](#zeiterfassung)
4. [Projekte](#projekte)
5. [Abwesenheiten](#abwesenheiten)
6. [Reports](#reports)
7. [Rechnungen](#rechnungen)
8. [Fehlerbehandlung](#fehlerbehandlung)

---

## Authentifizierung

### Registrierung

**Endpunkt:** `POST /api/auth/register`

**Beschreibung:** Erstellt einen neuen Benutzer-Account

**Request Body:**
```json
{
  "email": "user@example.com",
  "password": "securePassword123",
  "firstName": "Max",
  "lastName": "Mustermann"
}
```

**Response:** `201 Created`
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "123e4567-e89b-12d3-a456-426614174000",
    "email": "user@example.com",
    "firstName": "Max",
    "lastName": "Mustermann",
    "role": "USER",
    "active": true,
    "vacationDays": 25,
    "createdAt": "2025-01-01T10:00:00.000Z"
  }
}
```

**Validierung:**
- Email: Muss gÃ¼ltige E-Mail-Adresse sein
- Password: Mindestens 8 Zeichen
- firstName/lastName: Nicht leer

**Fehler:**
- `400 Bad Request`: Validierungsfehler
- `409 Conflict`: E-Mail bereits registriert

---

### Login

**Endpunkt:** `POST /api/auth/login`

**Beschreibung:** Authentifiziert einen Benutzer und gibt JWT Token zurÃ¼ck

**Request Body:**
```json
{
  "email": "user@example.com",
  "password": "securePassword123"
}
```

**Response:** `200 OK`
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "123e4567-e89b-12d3-a456-426614174000",
    "email": "user@example.com",
    "firstName": "Max",
    "lastName": "Mustermann",
    "role": "USER"
  }
}
```

**Fehler:**
- `400 Bad Request`: Fehlende Credentials
- `401 Unauthorized`: UngÃ¼ltige Credentials
- `403 Forbidden`: Account deaktiviert

**Rate Limiting:** 5 Versuche pro 15 Minuten

---

## Benutzer

**Alle Endpunkte erfordern Authentifizierung (Bearer Token)**

### Eigenes Profil abrufen

**Endpunkt:** `GET /api/users/me`

**Beschreibung:** Gibt das Profil des aktuell eingeloggten Benutzers zurÃ¼ck

**Headers:**
```
Authorization: Bearer <token>
```

**Response:** `200 OK`
```json
{
  "id": "123e4567-e89b-12d3-a456-426614174000",
  "email": "user@example.com",
  "firstName": "Max",
  "lastName": "Mustermann",
  "role": "USER",
  "active": true,
  "vacationDays": 25,
  "vacationDaysUsed": 5,
  "vacationDaysRemaining": 20,
  "createdAt": "2025-01-01T10:00:00.000Z",
  "updatedAt": "2025-01-15T14:30:00.000Z"
}
```

---

### Alle Benutzer abrufen

**Endpunkt:** `GET /api/users`

**Beschreibung:** Liste aller Benutzer (nur ADMIN)

**Headers:**
```
Authorization: Bearer <admin-token>
```

**Query Parameters:**
- `active` (optional): `true` | `false` - Filtert nach aktivem Status
- `role` (optional): `USER` | `ADMIN` - Filtert nach Rolle
- `page` (optional): Seitennummer (Standard: 1)
- `limit` (optional): EintrÃ¤ge pro Seite (Standard: 50)

**Beispiel:** `GET /api/users?active=true&role=USER&page=1&limit=20`

**Response:** `200 OK`
```json
{
  "users": [
    {
      "id": "123e4567-e89b-12d3-a456-426614174000",
      "email": "user1@example.com",
      "firstName": "Max",
      "lastName": "Mustermann",
      "role": "USER",
      "active": true,
      "vacationDays": 25,
      "createdAt": "2025-01-01T10:00:00.000Z"
    },
    {
      "id": "223e4567-e89b-12d3-a456-426614174001",
      "email": "user2@example.com",
      "firstName": "Anna",
      "lastName": "Schmidt",
      "role": "ADMIN",
      "active": true,
      "vacationDays": 30,
      "createdAt": "2025-01-02T11:00:00.000Z"
    }
  ],
  "pagination": {
    "total": 45,
    "page": 1,
    "limit": 20,
    "totalPages": 3
  }
}
```

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte

---

### Benutzer Details abrufen

**Endpunkt:** `GET /api/users/:id`

**Beschreibung:** Details eines spezifischen Benutzers (nur ADMIN)

**Response:** `200 OK`
```json
{
  "id": "123e4567-e89b-12d3-a456-426614174000",
  "email": "user@example.com",
  "firstName": "Max",
  "lastName": "Mustermann",
  "role": "USER",
  "active": true,
  "vacationDays": 25,
  "projects": [
    {
      "id": "proj-1",
      "name": "Website Redesign",
      "active": true
    }
  ],
  "statistics": {
    "totalHoursThisMonth": 160,
    "totalHoursThisYear": 320,
    "currentlyClocked": false
  }
}
```

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Benutzer existiert nicht

---

### Benutzer aktualisieren

**Endpunkt:** `PUT /api/users/:id`

**Beschreibung:** Aktualisiert Benutzer-Daten (nur ADMIN)

**Request Body:**
```json
{
  "firstName": "Maximilian",
  "lastName": "Mustermann",
  "email": "new.email@example.com",
  "role": "ADMIN",
  "active": true,
  "vacationDays": 30
}
```

**Response:** `200 OK`
```json
{
  "id": "123e4567-e89b-12d3-a456-426614174000",
  "email": "new.email@example.com",
  "firstName": "Maximilian",
  "lastName": "Mustermann",
  "role": "ADMIN",
  "active": true,
  "vacationDays": 30,
  "updatedAt": "2025-01-15T14:30:00.000Z"
}
```

**Fehler:**
- `400 Bad Request`: Validierungsfehler
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Benutzer existiert nicht
- `409 Conflict`: E-Mail bereits vergeben

---

### Benutzer lÃ¶schen

**Endpunkt:** `DELETE /api/users/:id`

**Beschreibung:** LÃ¶scht einen Benutzer (Soft Delete, nur ADMIN)

**Response:** `204 No Content`

**Hinweis:** Dies ist ein Soft Delete - der Benutzer wird auf `active: false` gesetzt, aber nicht physisch gelÃ¶scht.

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Benutzer existiert nicht
- `409 Conflict`: Benutzer hat aktive Zeitbuchungen

---

## Zeiterfassung

### Einstempeln

**Endpunkt:** `POST /api/time/clock-in`

**Beschreibung:** Startet eine neue Zeiterfassung

**Request Body:**
```json
{
  "projectId": "proj-123",
  "description": "Working on feature X"
}
```

**Response:** `201 Created`
```json
{
  "id": "time-entry-456",
  "userId": "user-123",
  "projectId": "proj-123",
  "clockIn": "2025-01-15T08:00:00.000Z",
  "clockOut": null,
  "status": "CLOCKED_IN",
  "description": "Working on feature X"
}
```

**Business Rules:**
- Nur ein aktiver TimeEntry pro Benutzer erlaubt
- Projekt muss existieren und Benutzer zugewiesen sein
- Einstempeln in die Zukunft nicht mÃ¶glich

**Fehler:**
- `400 Bad Request`: Bereits eingestempelt oder ungÃ¼ltiges Projekt
- `404 Not Found`: Projekt existiert nicht

---

### Ausstempeln

**Endpunkt:** `POST /api/time/clock-out`

**Beschreibung:** Beendet die aktuelle Zeiterfassung

**Request Body:**
```json
{
  "description": "Completed feature X implementation"
}
```

**Response:** `200 OK`
```json
{
  "id": "time-entry-456",
  "userId": "user-123",
  "projectId": "proj-123",
  "clockIn": "2025-01-15T08:00:00.000Z",
  "clockOut": "2025-01-15T17:00:00.000Z",
  "status": "CLOCKED_OUT",
  "duration": 32400,  // Sekunden (9 Stunden)
  "durationFormatted": "09:00:00",
  "description": "Completed feature X implementation"
}
```

**Business Rules:**
- Benutzer muss eingestempelt sein
- clockOut kann nicht vor clockIn liegen
- Maximale Arbeitszeit: 10 Stunden (konfigurierbar)

**Fehler:**
- `400 Bad Request`: Nicht eingestempelt oder ungÃ¼ltige Zeit
- `422 Unprocessable Entity`: Zeitdauer Ã¼berschreitet Maximum

---

### Aktuellen Zeiteintrag abrufen

**Endpunkt:** `GET /api/time/current`

**Beschreibung:** Gibt den aktuellen aktiven Zeiteintrag zurÃ¼ck

**Response:** `200 OK`
```json
{
  "id": "time-entry-456",
  "userId": "user-123",
  "projectId": "proj-123",
  "project": {
    "id": "proj-123",
    "name": "Website Redesign"
  },
  "clockIn": "2025-01-15T08:00:00.000Z",
  "clockOut": null,
  "status": "CLOCKED_IN",
  "currentDuration": 14400,  // Sekunden seit clockIn
  "currentDurationFormatted": "04:00:00",
  "description": "Working on feature X"
}
```

**Response (nicht eingestempelt):** `200 OK`
```json
{
  "currentEntry": null,
  "status": "CLOCKED_OUT"
}
```

---

### Eigene ZeiteintrÃ¤ge abrufen

**Endpunkt:** `GET /api/time/my-entries`

**Beschreibung:** Liste der eigenen ZeiteintrÃ¤ge

**Query Parameters:**
- `startDate` (optional): ISO Date - Von-Datum (inkl.)
- `endDate` (optional): ISO Date - Bis-Datum (inkl.)
- `projectId` (optional): UUID - Filtert nach Projekt
- `status` (optional): `CLOCKED_IN` | `CLOCKED_OUT`
- `page` (optional): Seitennummer
- `limit` (optional): EintrÃ¤ge pro Seite (max 100)

**Beispiel:** `GET /api/time/my-entries?startDate=2025-01-01&endDate=2025-01-31&projectId=proj-123`

**Response:** `200 OK`
```json
{
  "entries": [
    {
      "id": "time-entry-456",
      "projectId": "proj-123",
      "project": {
        "id": "proj-123",
        "name": "Website Redesign"
      },
      "clockIn": "2025-01-15T08:00:00.000Z",
      "clockOut": "2025-01-15T17:00:00.000Z",
      "status": "CLOCKED_OUT",
      "duration": 32400,
      "durationFormatted": "09:00:00",
      "description": "Completed feature X"
    }
  ],
  "summary": {
    "totalEntries": 20,
    "totalDuration": 648000,  // Sekunden
    "totalDurationFormatted": "180:00:00",  // HH:MM:SS
    "totalHours": 180
  },
  "pagination": {
    "total": 20,
    "page": 1,
    "limit": 50,
    "totalPages": 1
  }
}
```

---

### Benutzer-ZeiteintrÃ¤ge abrufen

**Endpunkt:** `GET /api/time/user/:userId`

**Beschreibung:** ZeiteintrÃ¤ge eines bestimmten Benutzers (nur ADMIN)

**Query Parameters:** Gleich wie `/my-entries`

**Response:** Gleiche Struktur wie `/my-entries`

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Benutzer existiert nicht

---

### Zeiteintrag korrigieren

**Endpunkt:** `PUT /api/time/:id`

**Beschreibung:** Korrigiert einen Zeiteintrag (nur ADMIN)

**Request Body:**
```json
{
  "clockIn": "2025-01-15T08:00:00.000Z",
  "clockOut": "2025-01-15T17:30:00.000Z",
  "projectId": "proj-123",
  "description": "Updated description",
  "status": "CLOCKED_OUT"
}
```

**Response:** `200 OK`
```json
{
  "id": "time-entry-456",
  "userId": "user-123",
  "projectId": "proj-123",
  "clockIn": "2025-01-15T08:00:00.000Z",
  "clockOut": "2025-01-15T17:30:00.000Z",
  "status": "CLOCKED_OUT",
  "duration": 34200,
  "durationFormatted": "09:30:00",
  "description": "Updated description",
  "updatedAt": "2025-01-16T10:00:00.000Z"
}
```

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Zeiteintrag existiert nicht
- `400 Bad Request`: UngÃ¼ltige Zeitangaben

---

### Zeiteintrag lÃ¶schen

**Endpunkt:** `DELETE /api/time/:id`

**Beschreibung:** LÃ¶scht einen Zeiteintrag (nur ADMIN)

**Response:** `204 No Content`

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Zeiteintrag existiert nicht

---

## Projekte

### Alle Projekte abrufen

**Endpunkt:** `GET /api/projects`

**Beschreibung:** Liste aller Projekte (ADMIN: alle, USER: nur zugewiesene)

**Query Parameters:**
- `active` (optional): `true` | `false`
- `page`, `limit`: Pagination

**Response (ADMIN):** `200 OK`
```json
{
  "projects": [
    {
      "id": "proj-123",
      "name": "Website Redesign",
      "description": "Complete redesign of company website",
      "active": true,
      "createdAt": "2025-01-01T00:00:00.000Z",
      "assignedUsers": [
        {
          "id": "user-123",
          "firstName": "Max",
          "lastName": "Mustermann"
        }
      ],
      "statistics": {
        "totalHours": 120,
        "totalUsers": 3
      }
    }
  ],
  "pagination": {
    "total": 10,
    "page": 1,
    "limit": 50,
    "totalPages": 1
  }
}
```

**Response (USER):** Nur Projekte wo Benutzer zugewiesen ist

---

### Eigene Projekte abrufen

**Endpunkt:** `GET /api/projects/my-projects`

**Beschreibung:** Projekte des aktuellen Benutzers

**Response:** `200 OK`
```json
{
  "projects": [
    {
      "id": "proj-123",
      "name": "Website Redesign",
      "description": "Complete redesign of company website",
      "active": true,
      "myHours": 45.5,
      "lastClockIn": "2025-01-15T08:00:00.000Z"
    }
  ]
}
```

---

### Projekt erstellen

**Endpunkt:** `POST /api/projects`

**Beschreibung:** Erstellt ein neues Projekt (nur ADMIN)

**Request Body:**
```json
{
  "name": "Mobile App Development",
  "description": "Develop iOS and Android app",
  "active": true
}
```

**Response:** `201 Created`
```json
{
  "id": "proj-456",
  "name": "Mobile App Development",
  "description": "Develop iOS and Android app",
  "active": true,
  "createdAt": "2025-01-15T10:00:00.000Z"
}
```

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `400 Bad Request`: Name ist erforderlich
- `409 Conflict`: Projekt mit diesem Namen existiert bereits

---

### Projekt aktualisieren

**Endpunkt:** `PUT /api/projects/:id`

**Beschreibung:** Aktualisiert Projekt-Daten (nur ADMIN)

**Request Body:**
```json
{
  "name": "Mobile App Development (Updated)",
  "description": "Updated description",
  "active": false
}
```

**Response:** `200 OK`
```json
{
  "id": "proj-456",
  "name": "Mobile App Development (Updated)",
  "description": "Updated description",
  "active": false,
  "updatedAt": "2025-01-15T11:00:00.000Z"
}
```

---

### Projekt lÃ¶schen

**Endpunkt:** `DELETE /api/projects/:id`

**Beschreibung:** LÃ¶scht ein Projekt (Soft Delete, nur ADMIN)

**Response:** `204 No Content`

**Hinweis:** Projekt wird auf `active: false` gesetzt. Bestehende Zeitbuchungen bleiben erhalten.

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Projekt existiert nicht

---

### Benutzer zu Projekt zuweisen

**Endpunkt:** `POST /api/projects/:id/assign`

**Beschreibung:** Weist einen Benutzer einem Projekt zu (nur ADMIN)

**Request Body:**
```json
{
  "userId": "user-123"
}
```

**Response:** `200 OK`
```json
{
  "project": {
    "id": "proj-456",
    "name": "Mobile App Development"
  },
  "user": {
    "id": "user-123",
    "firstName": "Max",
    "lastName": "Mustermann"
  },
  "assignedAt": "2025-01-15T12:00:00.000Z"
}
```

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Projekt oder Benutzer existiert nicht
- `409 Conflict`: Benutzer bereits zugewiesen

---

### Benutzer von Projekt entfernen

**Endpunkt:** `DELETE /api/projects/:id/unassign/:userId`

**Beschreibung:** Entfernt einen Benutzer von einem Projekt (nur ADMIN)

**Response:** `204 No Content`

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Projekt, Benutzer oder Zuweisung existiert nicht

---

## Abwesenheiten

### Abwesenheitsantrag erstellen

**Endpunkt:** `POST /api/absences`

**Beschreibung:** Erstellt einen neuen Abwesenheitsantrag

**Request Body:**
```json
{
  "type": "VACATION",
  "startDate": "2025-02-01",
  "endDate": "2025-02-07",
  "reason": "Family vacation",
  "halfDay": false
}
```

**Abwesenheits-Typen:**
- `VACATION` - Urlaub
- `SICK` - Krankheit
- `PERSONAL` - PersÃ¶nliche GrÃ¼nde
- `TRAINING` - Weiterbildung
- `HOME_OFFICE` - Home Office
- `OTHER` - Sonstige

**Response:** `201 Created`
```json
{
  "id": "absence-789",
  "userId": "user-123",
  "type": "VACATION",
  "startDate": "2025-02-01T00:00:00.000Z",
  "endDate": "2025-02-07T23:59:59.999Z",
  "reason": "Family vacation",
  "halfDay": false,
  "status": "PENDING",
  "days": 5,  // Arbeitstage (ohne Wochenende)
  "createdAt": "2025-01-15T13:00:00.000Z"
}
```

**Business Rules:**
- Urlaub: VerfÃ¼gbare Urlaubstage werden geprÃ¼ft
- startDate muss vor oder gleich endDate sein
- Keine Ã¼berlappenden AntrÃ¤ge erlaubt
- Minimale Vorlaufzeit: 2 Tage (konfigurierbar)

**Fehler:**
- `400 Bad Request`: UngÃ¼ltige Daten oder nicht genug Urlaubstage
- `409 Conflict`: Ãœberlappende Abwesenheit existiert

---

### Eigene AbwesenheitsantrÃ¤ge abrufen

**Endpunkt:** `GET /api/absences/my-requests`

**Beschreibung:** Liste der eigenen AbwesenheitsantrÃ¤ge

**Query Parameters:**
- `status` (optional): `PENDING` | `APPROVED` | `REJECTED`
- `type` (optional): Abwesenheitstyp
- `year` (optional): Jahr (z.B. 2025)
- `page`, `limit`: Pagination

**Response:** `200 OK`
```json
{
  "absences": [
    {
      "id": "absence-789",
      "type": "VACATION",
      "startDate": "2025-02-01T00:00:00.000Z",
      "endDate": "2025-02-07T23:59:59.999Z",
      "reason": "Family vacation",
      "status": "APPROVED",
      "days": 5,
      "approvedBy": {
        "id": "admin-123",
        "firstName": "Admin",
        "lastName": "User"
      },
      "approvedAt": "2025-01-16T09:00:00.000Z",
      "createdAt": "2025-01-15T13:00:00.000Z"
    }
  ],
  "summary": {
    "totalPending": 0,
    "totalApproved": 5,
    "totalRejected": 1,
    "vacationDaysUsed": 5,
    "vacationDaysRemaining": 20
  },
  "pagination": {
    "total": 6,
    "page": 1,
    "limit": 50,
    "totalPages": 1
  }
}
```

---

### Alle AbwesenheitsantrÃ¤ge abrufen

**Endpunkt:** `GET /api/absences`

**Beschreibung:** Liste aller AbwesenheitsantrÃ¤ge (nur ADMIN)

**Query Parameters:** Gleich wie `/my-requests` plus:
- `userId` (optional): Filtert nach Benutzer

**Response:** Gleiche Struktur wie `/my-requests`, aber mit User-Info:
```json
{
  "absences": [
    {
      "id": "absence-789",
      "user": {
        "id": "user-123",
        "firstName": "Max",
        "lastName": "Mustermann",
        "email": "max@example.com"
      },
      "type": "VACATION",
      "startDate": "2025-02-01T00:00:00.000Z",
      "endDate": "2025-02-07T23:59:59.999Z",
      "reason": "Family vacation",
      "status": "PENDING",
      "days": 5,
      "createdAt": "2025-01-15T13:00:00.000Z"
    }
  ]
}
```

---

### Abwesenheitsantrag genehmigen

**Endpunkt:** `PUT /api/absences/:id/approve`

**Beschreibung:** Genehmigt einen Abwesenheitsantrag (nur ADMIN)

**Request Body (optional):**
```json
{
  "comment": "Genehmigt, viel SpaÃŸ!"
}
```

**Response:** `200 OK`
```json
{
  "id": "absence-789",
  "status": "APPROVED",
  "approvedBy": {
    "id": "admin-123",
    "firstName": "Admin",
    "lastName": "User"
  },
  "approvedAt": "2025-01-16T09:00:00.000Z",
  "comment": "Genehmigt, viel SpaÃŸ!"
}
```

**Business Rules:**
- Bei VACATION: Urlaubstage werden vom Kontingent abgezogen
- E-Mail-Benachrichtigung an Benutzer (falls konfiguriert)
- Antrag kann nur einmal genehmigt werden

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Antrag existiert nicht
- `409 Conflict`: Antrag bereits genehmigt/abgelehnt

---

### Abwesenheitsantrag ablehnen

**Endpunkt:** `PUT /api/absences/:id/reject`

**Beschreibung:** Lehnt einen Abwesenheitsantrag ab (nur ADMIN)

**Request Body:**
```json
{
  "comment": "Konflikt mit Projekttermin"
}
```

**Response:** `200 OK`
```json
{
  "id": "absence-789",
  "status": "REJECTED",
  "rejectedBy": {
    "id": "admin-123",
    "firstName": "Admin",
    "lastName": "User"
  },
  "rejectedAt": "2025-01-16T09:00:00.000Z",
  "comment": "Konflikt mit Projekttermin"
}
```

---

### Abwesenheitsantrag lÃ¶schen

**Endpunkt:** `DELETE /api/absences/:id`

**Beschreibung:** LÃ¶scht einen Abwesenheitsantrag (nur ADMIN oder eigener PENDING Antrag)

**Response:** `204 No Content`

**Business Rules:**
- Benutzer kÃ¶nnen nur eigene PENDING AntrÃ¤ge lÃ¶schen
- Admin kann alle AntrÃ¤ge lÃ¶schen
- APPROVED UrlaubsantrÃ¤ge: Urlaubstage werden zurÃ¼ckgebucht

**Fehler:**
- `403 Forbidden`: Keine Berechtigung
- `404 Not Found`: Antrag existiert nicht

---

## Reports

### Eigene Zusammenfassung

**Endpunkt:** `GET /api/reports/my-summary`

**Beschreibung:** PersÃ¶nliche Arbeitszeit-Zusammenfassung

**Query Parameters:**
- `startDate` (optional): ISO Date
- `endDate` (optional): ISO Date
- `groupBy` (optional): `day` | `week` | `month` | `project`

**Beispiel:** `GET /api/reports/my-summary?startDate=2025-01-01&endDate=2025-01-31&groupBy=project`

**Response:** `200 OK`
```json
{
  "summary": {
    "totalHours": 160,
    "totalDays": 20,
    "averageHoursPerDay": 8,
    "period": {
      "start": "2025-01-01T00:00:00.000Z",
      "end": "2025-01-31T23:59:59.999Z"
    }
  },
  "breakdown": {
    "byProject": [
      {
        "projectId": "proj-123",
        "projectName": "Website Redesign",
        "hours": 80,
        "percentage": 50
      },
      {
        "projectId": "proj-456",
        "projectName": "Mobile App",
        "hours": 80,
        "percentage": 50
      }
    ],
    "byDay": [
      {
        "date": "2025-01-01",
        "hours": 8,
        "entries": 1
      },
      {
        "date": "2025-01-02",
        "hours": 8.5,
        "entries": 2
      }
    ]
  },
  "absences": {
    "totalDays": 2,
    "byType": [
      {
        "type": "VACATION",
        "days": 2
      }
    ]
  }
}
```

---

### Benutzer-Zusammenfassung

**Endpunkt:** `GET /api/reports/user-summary/:userId`

**Beschreibung:** Arbeitszeit-Zusammenfassung fÃ¼r einen Benutzer (nur ADMIN)

**Query Parameters:** Gleich wie `/my-summary`

**Response:** Gleiche Struktur wie `/my-summary` plus User-Info

**Fehler:**
- `403 Forbidden`: Keine Admin-Rechte
- `404 Not Found`: Benutzer existiert nicht

---

### Alle Benutzer Zusammenfassung

**Endpunkt:** `GET /api/reports/all-users-summary`

**Beschreibung:** Ãœbersicht aller Benutzer (nur ADMIN)

**Query Parameters:**
- `startDate`, `endDate`: Zeitraum
- `sortBy`: `hours` | `name` | `department`
- `order`: `asc` | `desc`

**Response:** `200 OK`
```json
{
  "period": {
    "start": "2025-01-01T00:00:00.000Z",
    "end": "2025-01-31T23:59:59.999Z"
  },
  "users": [
    {
      "userId": "user-123",
      "firstName": "Max",
      "lastName": "Mustermann",
      "totalHours": 160,
      "totalDays": 20,
      "vacationDays": 2,
      "sickDays": 0,
      "projects": [
        {
          "projectId": "proj-123",
          "projectName": "Website Redesign",
          "hours": 160
        }
      ]
    }
  ],
  "totals": {
    "totalHours": 3200,
    "totalUsers": 20,
    "averageHoursPerUser": 160
  }
}
```

---

### Projekt-Zusammenfassung

**Endpunkt:** `GET /api/reports/project-summary/:projectId`

**Beschreibung:** Arbeitszeit-Zusammenfassung fÃ¼r ein Projekt (nur ADMIN)

**Query Parameters:**
- `startDate`, `endDate`: Zeitraum
- `includeInactive`: `true` | `false` - Inaktive Benutzer einbeziehen

**Response:** `200 OK`
```json
{
  "project": {
    "id": "proj-123",
    "name": "Website Redesign",
    "description": "Complete redesign",
    "active": true
  },
  "period": {
    "start": "2025-01-01T00:00:00.000Z",
    "end": "2025-01-31T23:59:59.999Z"
  },
  "summary": {
    "totalHours": 320,
    "totalUsers": 4,
    "averageHoursPerUser": 80
  },
  "userBreakdown": [
    {
      "userId": "user-123",
      "firstName": "Max",
      "lastName": "Mustermann",
      "hours": 80,
      "percentage": 25,
      "lastEntry": "2025-01-31T17:00:00.000Z"
    }
  ],
  "timeline": [
    {
      "week": "2025-W01",
      "hours": 80
    },
    {
      "week": "2025-W02",
      "hours": 80
    }
  ]
}
```

---

## Rechnungen

### Rechnung erstellen

**Endpunkt:** `POST /api/invoices`

**Beschreibung:** Erstellt eine neue Rechnung (nur ADMIN)

**Request Body:**
```json
{
  "customerId": "customer-123",
  "projectId": "proj-123",
  "invoiceNumber": "RE-2025-001",
  "invoiceDate": "2025-01-31",
  "dueDate": "2025-02-28",
  "items": [
    {
      "description": "Entwicklung Feature X",
      "quantity": 40,
      "unit": "Stunden",
      "unitPrice": 120,
      "vatRate": 8.1
    },
    {
      "description": "Projektmanagement",
      "quantity": 10,
      "unit": "Stunden",
      "unitPrice": 150,
      "vatRate": 8.1
    }
  ],
  "notes": "Zahlbar innerhalb 30 Tagen",
  "vatIncluded": false
}
```

**Response:** `201 Created`
```json
{
  "id": "invoice-999",
  "invoiceNumber": "RE-2025-001",
  "status": "DRAFT",
  "customerId": "customer-123",
  "projectId": "proj-123",
  "invoiceDate": "2025-01-31T00:00:00.000Z",
  "dueDate": "2025-02-28T00:00:00.000Z",
  "items": [
    {
      "id": "item-1",
      "description": "Entwicklung Feature X",
      "quantity": 40,
      "unit": "Stunden",
      "unitPrice": 120,
      "subtotal": 4800,
      "vatRate": 8.1,
      "vatAmount": 388.80,
      "total": 5188.80
    },
    {
      "id": "item-2",
      "description": "Projektmanagement",
      "quantity": 10,
      "unit": "Stunden",
      "unitPrice": 150,
      "subtotal": 1500,
      "vatRate": 8.1,
      "vatAmount": 121.50,
      "total": 1621.50
    }
  ],
  "subtotal": 6300,
  "vatTotal": 510.30,
  "grandTotal": 6810.30,
  "currency": "CHF",
  "qrCode": "base64-encoded-qr-code",
  "createdAt": "2025-01-31T10:00:00.000Z"
}
```

**Swiss QR Code Fields:**
- IBAN
- Rechnungsbetrag
- WÃ¤hrung (CHF/EUR)
- Referenznummer

---

### Rechnungen abrufen

**Endpunkt:** `GET /api/invoices`

**Beschreibung:** Liste aller Rechnungen (nur ADMIN)

**Query Parameters:**
- `status`: `DRAFT` | `SENT` | `PAID` | `OVERDUE` | `CANCELLED`
- `customerId`: Filter nach Kunde
- `projectId`: Filter nach Projekt
- `year`: Jahr
- `page`, `limit`: Pagination

**Response:** `200 OK`
```json
{
  "invoices": [
    {
      "id": "invoice-999",
      "invoiceNumber": "RE-2025-001",
      "status": "SENT",
      "customer": {
        "id": "customer-123",
        "name": "Acme Corp"
      },
      "invoiceDate": "2025-01-31T00:00:00.000Z",
      "dueDate": "2025-02-28T00:00:00.000Z",
      "grandTotal": 6810.30,
      "currency": "CHF",
      "isPaid": false,
      "isOverdue": false
    }
  ],
  "summary": {
    "totalDraft": 2,
    "totalSent": 5,
    "totalPaid": 10,
    "totalOverdue": 1,
    "totalAmount": 68103.00,
    "totalPaidAmount": 50000.00,
    "totalOutstanding": 18103.00
  }
}
```

---

### Rechnung als PDF exportieren

**Endpunkt:** `GET /api/invoices/:id/pdf`

**Beschreibung:** Generiert PDF der Rechnung

**Response:** `200 OK` - Content-Type: `application/pdf`

**Headers:**
```
Content-Type: application/pdf
Content-Disposition: attachment; filename="RE-2025-001.pdf"
```

---

### Rechnungsstatus Ã¤ndern

**Endpunkt:** `PUT /api/invoices/:id/status`

**Beschreibung:** Ã„ndert den Status einer Rechnung

**Request Body:**
```json
{
  "status": "PAID",
  "paidDate": "2025-02-15",
  "paymentMethod": "Bank Transfer",
  "notes": "Received payment"
}
```

**Response:** `200 OK`
```json
{
  "id": "invoice-999",
  "status": "PAID",
  "paidDate": "2025-02-15T00:00:00.000Z",
  "paymentMethod": "Bank Transfer",
  "updatedAt": "2025-02-15T10:00:00.000Z"
}
```

---

## Fehlerbehandlung

### Standard Fehler-Format

Alle API-Fehler folgen diesem Format:

```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "Benutzerfreundliche Fehlermeldung",
    "details": [
      {
        "field": "email",
        "message": "Email ist ungÃ¼ltig"
      }
    ],
    "timestamp": "2025-01-15T10:00:00.000Z",
    "path": "/api/users/register"
  }
}
```

### HTTP Status Codes

| Code | Bedeutung | Verwendung |
|------|-----------|------------|
| 200 | OK | Erfolgreiche GET, PUT Anfragen |
| 201 | Created | Erfolgreiche POST Anfragen (Resource erstellt) |
| 204 | No Content | Erfolgreiche DELETE Anfragen |
| 400 | Bad Request | Validierungsfehler, ungÃ¼ltige Eingaben |
| 401 | Unauthorized | Fehlende oder ungÃ¼ltige Authentication |
| 403 | Forbidden | Fehlende Berechtigung |
| 404 | Not Found | Resource nicht gefunden |
| 409 | Conflict | Konflikt (z.B. E-Mail bereits registriert) |
| 422 | Unprocessable Entity | Business Logic Fehler |
| 429 | Too Many Requests | Rate Limit Ã¼berschritten |
| 500 | Internal Server Error | Serverfehler |

### Validierungsfehler

```json
{
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Eingabe-Validierung fehlgeschlagen",
    "details": [
      {
        "field": "email",
        "message": "Email ist erforderlich"
      },
      {
        "field": "password",
        "message": "Passwort muss mindestens 8 Zeichen haben"
      }
    ]
  }
}
```

### Authentication Fehler

```json
{
  "error": {
    "code": "AUTHENTICATION_FAILED",
    "message": "UngÃ¼ltige Credentials"
  }
}
```

### Authorization Fehler

```json
{
  "error": {
    "code": "INSUFFICIENT_PERMISSIONS",
    "message": "Administrator-Rechte erforderlich"
  }
}
```

---

## Anhang

### Beispiel Workflow: VollstÃ¤ndiger Arbeitsablauf

```typescript
// 1. Login
POST /api/auth/login
{
  "email": "max@example.com",
  "password": "secure123"
}
â†’ Token: "eyJhbGci..."

// 2. Einstempeln
POST /api/time/clock-in
Headers: { Authorization: "Bearer eyJhbGci..." }
{
  "projectId": "proj-123",
  "description": "Working on feature X"
}

// 3. Arbeit erledigen...

// 4. Ausstempeln
POST /api/time/clock-out
{
  "description": "Completed feature X"
}

// 5. Ãœbersicht abrufen
GET /api/time/my-entries?startDate=2025-01-01&endDate=2025-01-31

// 6. Urlaubsantrag
POST /api/absences
{
  "type": "VACATION",
  "startDate": "2025-02-01",
  "endDate": "2025-02-07",
  "reason": "Family vacation"
}
```

### Rate Limiting

| Endpunkt | Limit | Zeitfenster |
|----------|-------|-------------|
| `/api/auth/login` | 5 | 15 Minuten |
| `/api/auth/register` | 3 | 1 Stunde |
| Alle anderen | 100 | 15 Minuten |

### API Versioning

Aktuell: v1 (im URL-Path implizit)  
ZukÃ¼nftig: `/api/v2/...` bei Breaking Changes

---

**API Dokumentation Ende**
